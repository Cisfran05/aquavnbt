KJE.Default.TaxRate=24;
KJE.Default.TaxRateRetire=22;
KJE.Default.TaxRateCapGain=15;
KJE.Default.StateTaxRate=8;
KJE.Default.IncomeTaxTableCurrent="Use the &lsquo;Filing Status and Federal Income Tax Rates on Taxable Income&rsquo; table to assist you in estimating your federal tax rate.<div class='KJEReportTableDiv'><table class='KJEReportTable KJEReportTableShrink'><caption class='KJEHeaderRow KJEHeading'>Filing Status and Federal Income Tax Rates on Taxable Income for 2024<sup>*</sup></caption><thead class='KJEReportTHeader'><tr class=KJEHeaderRow><th scope='col' class='KJEHeading KJECell10'>Tax Rate</th><th scope='col' class='KJEHeading KJECell225'>Married Filing Jointly or Qualified Widow(er)</th><th scope='col' class='KJEHeading KJECell225'>Single</th><th scope='col' class='KJEHeading KJECell225'>Head of Household</th><th scope='col' class='KJEHeading KJECell225'>Married Filing Separately</th></tr></thead><tbody class='KJEReportTBody'><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>10%</th><td class='KJECell KJECellBorder'>$0 -&nbsp;$23,200</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$11,600</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$16,550</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$11,600</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>12%</th><td class='KJECell KJECellBorder'>$23,200 -&nbsp;$94,300</td><td class='KJECell KJECellBorder'>$11,600 -&nbsp;$47,150</td><td class='KJECell KJECellBorder'>$16,550 -&nbsp;$63,100</td><td class='KJECell'>$11,600 -&nbsp;$47,150</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>22%</th><td class='KJECell KJECellBorder'>$94,300 -&nbsp;$201,050</td><td class='KJECell KJECellBorder'>$47,150 -&nbsp;$100,525</td><td class='KJECell KJECellBorder'>$63,100 -&nbsp;$100,500</td><td class='KJECell'>$47,150 -&nbsp;$100,525</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>24%</th><td class='KJECell KJECellBorder'>$201,050 -&nbsp;$383,900</td><td class='KJECell KJECellBorder'>$100,525 -&nbsp;$191,950</td><td class='KJECell KJECellBorder'>$100,500 -&nbsp;$191,950</td><td class='KJECell'>$100,525 -&nbsp;$191,950</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>32%</th><td class='KJECell KJECellBorder'>$383,900 -&nbsp;$487,450</td><td class='KJECell KJECellBorder'>$191,950 -&nbsp;$243,725</td><td class='KJECell KJECellBorder'>$191,950 -&nbsp;$243,700</td><td class='KJECell'>$191,950 -&nbsp;$243,725</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>35%</th><td class='KJECell KJECellBorder'>$487,450 -&nbsp;$731,200</td><td class='KJECell KJECellBorder'>$243,725 -&nbsp;$609,350</td><td class='KJECell KJECellBorder'>$243,700 -&nbsp;$609,350</td><td class='KJECell'>$243,725 -&nbsp;$365,600</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>37%</th><td class='KJECell KJECellBorder'>Over &nbsp;$731,200</td><td class='KJECell KJECellBorder'>Over &nbsp;$609,350</td><td class='KJECell KJECellBorder'>Over &nbsp;$609,350</td><td class='KJECell'>Over &nbsp;$365,600</td></tr></tbody><tfoot class='KJEReportTFooter'><tr class=KJEFooterRow><td class='KJECell KJECenterText' COLSPAN='5'><sup>*</sup>Caution: Do not use these tax rate schedules to figure 2023 taxes. Use only to figure 2024 estimates. Source: Rev. Proc. 2023-48</td></tr></tfoot></table></div>";
KJE.Default.StandardDeductionCurrent="<div class='KJEReportTableDiv'><table class='KJEReportTable'><caption class='KJEHeaderRow KJEHeading'>Standard Deduction for 2024 Federal Income Tax</caption><thead class='KJEReportTHeader'><tr class=KJEHeaderRow><th scope='col' class='KJEHeading KJECell60'>Filing Status</th><th scope='col' class='KJEHeading KJECell40'>Standard Deduction</th></tr></thead><tbody class='KJEReportTBody'><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>Married Filing Joint</th><td class='KJECell'>$29,200</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>Qualified Widow(er)</th><td class='KJECell'>$29,200</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>Single</th><td class='KJECell'>$14,600</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>Heads of Household</th><td class='KJECell'>$21,900</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>Married Filing Separately</th><td class='KJECell'>$14,600</td></tr></tbody></table></div>";
KJE.Default.CapitalGainsRatesCurrent="Long-term capital gains are taxed at lower, special capital gains rates and are calculated as follows (note that qualified dividends are taxed as if they were a long-term capital gain):<ul><li>Calculate your total taxable income without long-term capital gains. </li><li>Use this amount to determine the rate for your long-term gain, up to the top of the bracket.</li><li>The portion of your long-term capital gain that exceeds a bracket will be taxed at the next higher rate.</li><li>This calculator assumes that none of your long-term capital gains come from collectibles, section 1202 gains or un-recaptured 1250 gains.  These types of capital gains are taxed at 28%, 28% and 25% respectively (unless your ordinary income tax bracket is a lower rate).</li></ul><div class='KJEReportTableDiv'><table class='KJEReportTable KJEReportTableShrink'><caption class='KJEHeaderRow KJEHeading'>Long-term Capital Gain Tax Rates 2019<sup>*</sup></caption><thead class='KJEReportTHeader'><tr class=KJEHeaderRow><th scope='col' class='KJEHeading'>Tax Rate</th><th scope='col' class='KJEHeading KJECell225'>Married Filing Jointly or Qualified Widow(er)</th><th scope='col' class='KJEHeading KJECell225'>Single</th><th scope='col' class='KJEHeading KJECell225'>Head of Household</th><th scope='col' class='KJEHeading KJECell225'>Married Filing Separately</th></tr></thead><tbody class='KJEReportTBody'><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>0%</th><td class='KJECell KJECellBorder'>$0 -&nbsp;$94,050</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$47,025</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$63,000</td><td class='KJECell'>$0 -&nbsp;$47,025</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>15%</th><td class='KJECell KJECellBorder'>$94,050 -&nbsp;$583,750</td><td class='KJECell KJECellBorder'>$47,025 -&nbsp;$518,900</td><td class='KJECell KJECellBorder'>$63,000 -&nbsp;$551,350</td><td class='KJECell'>$47,025 -&nbsp;$291,850</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>20%</th><td class='KJECell KJECellBorder'>Over $583,750</td><td class='KJECell KJECellBorder'>Over $518,900</td><td class='KJECell KJECellBorder'>Over $551,350</td><td class='KJECell'> Over $291,850</td></tr></tbody><tfoot class='KJEReportTFooter'><tr class=KJEFooterRow><td class='KJECell KJECenter' COLSPAN='5'><sup>*</sup>Caution: Do not use these tax rate schedules to figure 2023 taxes. Use only to figure 2024 estimates. Source: Rev. Proc. 2022-48</td></tr></tfoot></table></div>";
KJE.Default.IncomeTaxTableTaxYear="Use the &lsquo;Filing Status and Federal Income Tax Rates on Taxable Income&rsquo; table to assist you in estimating your federal tax rate.<div class='KJEReportTableDiv'><table class='KJEReportTable KJEReportTableShrink'><caption class='KJEHeaderRow KJEHeading'>Filing Status and Federal Income Tax Rates on Taxable Income for 2023<sup>*</sup></caption><thead class='KJEReportTHeader'><tr class=KJEHeaderRow><th scope='col' class='KJEHeading KJECell10'>Tax Rate</th><th scope='col' class='KJEHeading KJECell225'>Married Filing Jointly or Qualified Widow(er)</th><th scope='col' class='KJEHeading KJECell225'>Single</th><th scope='col' class='KJEHeading KJECell225'>Head of Household</th><th scope='col' class='KJEHeading KJECell225'>Married Filing Separately</th></tr></thead><tbody class='KJEReportTBody'><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>10%</th><td class='KJECell KJECellBorder'>$0 -&nbsp;$22,000</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$11,000</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$15,700</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$11,000</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>12%</th><td class='KJECell KJECellBorder'>$22,000 -&nbsp;$89,450</td><td class='KJECell KJECellBorder'>$11,000 -&nbsp;$44,725</td><td class='KJECell KJECellBorder'>$15,700 -&nbsp;$59,850</td><td class='KJECell'>$11,000 -&nbsp;$44,725</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>22%</th><td class='KJECell KJECellBorder'>$89,450 -&nbsp;$190,750</td><td class='KJECell KJECellBorder'>$44,725 -&nbsp;$95,375</td><td class='KJECell KJECellBorder'>$59,850 -&nbsp;$95,350</td><td class='KJECell'>$44,725 -&nbsp;$95,375</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>24%</th><td class='KJECell KJECellBorder'>$190,750 -&nbsp;$364,200</td><td class='KJECell KJECellBorder'>$95,375 -&nbsp;$182,100</td><td class='KJECell KJECellBorder'>$95,350 -&nbsp;$182,100</td><td class='KJECell'>$95,375 -&nbsp;$182,100</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>32%</th><td class='KJECell KJECellBorder'>$364,200 -&nbsp;$462,500</td><td class='KJECell KJECellBorder'>$182,100 -&nbsp;$231,250</td><td class='KJECell KJECellBorder'>$182,100 -&nbsp;$231,250</td><td class='KJECell'>$182,100 -&nbsp;$231,250</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>35%</th><td class='KJECell KJECellBorder'>$462,500 -&nbsp;$693,750</td><td class='KJECell KJECellBorder'>$231,250 -&nbsp;$578,125</td><td class='KJECell KJECellBorder'>$231,250 -&nbsp;$578,100</td><td class='KJECell'>$231,250 -&nbsp;$346,875</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>37%</th><td class='KJECell KJECellBorder'>Over &nbsp;$693,750</td><td class='KJECell KJECellBorder'>Over &nbsp;$578,125</td><td class='KJECell KJECellBorder'>Over &nbsp;$578,100</td><td class='KJECell'>Over &nbsp;$346,875</td></tr></tbody><tfoot class='KJEReportTFooter'><tr class=KJEFooterRow><td class='KJECell KJECenterText' COLSPAN='5'><sup>*</sup>Caution: Do not use these tax rate schedules to figure 2022 taxes. Use only to figure 2023 estimates. Source: Rev. Proc. 2022-38</td></tr></tfoot></table></div>";
KJE.Default.StandardDeductionTaxYear="<div class='KJEReportTableDiv'><table class='KJEReportTable'><caption class='KJEHeaderRow KJEHeading'>Standard Deduction for 2023 Federal Income Tax</caption><thead class='KJEReportTHeader'><tr class=KJEHeaderRow><th scope='col' class='KJEHeading KJECell60'>Filing Status</th><th scope='col' class='KJEHeading KJECell40'>Standard Deduction</th></tr></thead><tbody class='KJEReportTBody'><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>Married Filing Joint</th><td class='KJECell'>$27,700</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>Qualified Widow(er)</th><td class='KJECell'>$27,700</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>Single</th><td class='KJECell'>$13,850</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>Heads of Household</th><td class='KJECell'>$20,800</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>Married Filing Separately</th><td class='KJECell'>$13,850</td></tr></tbody></table></div>";
KJE.Default.CapitalGainsRatesTaxYear="long-term capital gains are taxed at lower, special capital gains rates and are calculated as follows (note that qualified dividends are taxed as if they were a long-term capital gain):<ul><li>Calculate your total taxable income without long-term capital gains. </li><li>Use this amount to determine the rate for your long-term gain, up to the top of the bracket.</li><li>The portion of your long-term capital gain that exceeds a bracket will be taxed at the next higher rate.</li><li>This calculator assumes that none of your long-term capital gains come from collectibles, section 1202 gains or un-recaptured 1250 gains.  These types of capital gains are taxed at 28%, 28% and 25% respectively (unless your ordinary income tax bracket is a lower rate).</li></ul><div class='KJEReportTableDiv'><table class='KJEReportTable KJEReportTableShrink'><caption class='KJEHeaderRow KJEHeading'>Long-term Capital Gain Tax Rates 2023<sup>*</sup></caption><thead class='KJEReportTHeader'><tr class=KJEHeaderRow><th scope='col' class='KJEHeading'>Tax Rate</th><th scope='col' class='KJEHeading KJECell225'>Married Filing Jointly or Qualified Widow(er)</th><th scope='col' class='KJEHeading KJECell225'>Single</th><th scope='col' class='KJEHeading KJECell225'>Head of Household</th><th scope='col' class='KJEHeading KJECell225'>Married Filing Separately</th></tr></thead><tbody class='KJEReportTBody'><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>0%</th><td class='KJECell KJECellBorder'>$0 -&nbsp;$89,250</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$44,625</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$59,750</td><td class='KJECell'>$0 -&nbsp;$44,625</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>15%</th><td class='KJECell KJECellBorder'>$89,250 -&nbsp;$553,850</td><td class='KJECell KJECellBorder'>$44,625 -&nbsp;$492,300</td><td class='KJECell KJECellBorder'>$59,750 -&nbsp;$523,050</td><td class='KJECell'>$44,625 -&nbsp;$276,900</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>20%</th><td class='KJECell KJECellBorder'>Over $553,850</td><td class='KJECell KJECellBorder'>Over $492,300</td><td class='KJECell KJECellBorder'>Over $523,050</td><td class='KJECell'> Over $276,900</td></tr></tbody><tfoot class='KJEReportTFooter'><tr class=KJEFooterRow><td class='KJECell KJECenter' COLSPAN='5'><sup>*</sup>Caution: Do not use these tax rate schedules to figure 2022 taxes. Use only to figure 2023 estimates. Source: Rev. Proc. 2022-38</td></tr></tfoot></table></div>";
KJE.definitions.set("**TAXCAPGAINS_CURRENT_DEFINITION**",KJE.Default.CapitalGainsRatesCurrent);
KJE.definitions.set("**TAXCAPGAINS_TAXYEAR_DEFINITION**",KJE.Default.CapitalGainsRatesTaxYear);
KJE.definitions.set("**TAXTABLE_CURRENT_DEFINITION**",KJE.Default.IncomeTaxTableCurrent);
KJE.definitions.set("**TAXTABLE_TAXYEAR_DEFINITION**",KJE.Default.IncomeTaxTableTaxYear);
KJE.definitions.set("**STANDARDDEDUCTION_CURRENT_DEFINITION**",KJE.Default.StandardDeductionCurrent);
KJE.definitions.set("**STANDARDDEDUCTION_TAXYEAR_DEFINITION**",KJE.Default.StandardDeductionTaxYear);
KJE.MortgageRefinanceCalc=function(){this.NO_PMI=false;
this.COMPUTE_MY_BALANCE=false;
this.REPORT_BY_YEAR=false;
this.NEW_LOAN_BALANCE=0;
this.NEW_LOAN_APPRAISED_VALUE=0;
this.OLD_LOAN_APPRAISED_VALUE=0;
this.CURRENT_TOTAL_INTEREST=0;
this.DIFFERENCE_TOTAL_INTEREST=0;
this.TOTAL_INTEREST=0;
this.AU=KJE.parameters.get("AU",false);
this.CAT_BREAK_EVEN=new Array(this.AU?3:4);
this.DS_BREAK_EVEN=KJE.FloatArray(this.AU?3:4);
this.MSG_MORE=KJE.parameters.get("MSG_MORE","more");
this.MSG_LESS=KJE.parameters.get("MSG_LESS","less");
this.MSG_NONE=KJE.parameters.get("MSG_NONE","(none)");
this.PMI_PERCENT=KJE.parameters.get("PMI_PERCENT",0.2);
this.MSG_BREAK_EVEN=[KJE.parameters.get("MSG_BREAK_EVEN1","Monthly payment savings"),KJE.parameters.get("MSG_BREAK_EVEN2","PMI & interest savings"),KJE.parameters.get("MSG_BREAK_EVEN3","Total savings after taxes"),KJE.parameters.get("MSG_BREAK_EVEN4","Total savings vs. prepayment"),KJE.parameters.get("MSG_BREAK_EVEN5","Monthly payment savings (none)")];
this.MSG_ERROR1=KJE.parameters.get("MSG_ERROR1","There is no break even point for current inputs.");
for(var b=0;
b++;
b<this.MSG_BREAK_EVEN.length){this.MSG_BREAK_EVEN[b]=KJE.parameters.get("MSG_BREAK_EVEN"+b,this.MSG_BREAK_EVEN[b])
}this.DS_NEW_PAYMENT=null;
this.DS_NEW_INTEREST=null;
this.DS_NEW_EQUITY=null;
this.DS_NEW_PMI=null;
this.DS_NEW_TAX_DEDUCTION=null;
this.DS_OLD_PAYMENT=null;
this.DS_OLD_INTEREST=null;
this.DS_OLD_EQUITY=null;
this.DS_OLD_PMI=null;
this.DS_OLD_TAX_DEDUCTION=null;
this.DS_PREPAY_INTEREST=null;
this.DS_PREPAY_PAYMENT=null;
this.DS_PREPAY_EQUITY=null;
this.DS_PREPAY_PMI=null;
this.DS_PREPAY_TAX_DEDUCTION=null;
this.DS_BF_TAX_REFIN_DIFF=null;
this.DS_BF_TAX_REFIN_CUMULATIVE=null;
this.DS_AF_TAX_REFIN_DIFF=null;
this.DS_AF_TAX_REFIN_CUMULATIVE=null;
this.DS_BF_TAX_PREPAY_DIFF=null;
this.DS_BF_TAX_PREPAY_CUMULATIVE=null;
this.DS_AF_TAX_PREPAY_DIFF=null;
this.DS_AF_TAX_PREPAY_CUMULATIVE=null;
this.dDS_NEW_PAYMENT=null;
this.dDS_NEW_INTEREST=null;
this.dDS_NEW_EQUITY=null;
this.dDS_NEW_PMI=null;
this.dDS_NEW_PRINCIPAL_BALANCE=null;
this.dDS_NEW_TAX_DEDUCTION=null;
this.dDS_OLD_PAYMENT=null;
this.dDS_OLD_INTEREST=null;
this.dDS_OLD_EQUITY=null;
this.dDS_OLD_PMI=null;
this.dDS_OLD_PRINCIPAL_BALANCE=null;
this.dDS_OLD_TAX_DEDUCTION=null;
this.dDS_PREPAY_INTEREST=null;
this.dDS_PREPAY_PAYMENT=null;
this.dDS_PREPAY_EQUITY=null;
this.dDS_PREPAY_PMI=null;
this.dDS_PREPAY_PRINCIPAL_BALANCE=null;
this.dDS_PREPAY_TAX_DEDUCTION=null;
this.dDSsum_OLD_EQUITY=null;
this.dDSsum_OLD_INTEREST=null;
this.dDSsum_OLD_PMI=null;
this.dDSsum_NEW_EQUITY=null;
this.dDSsum_NEW_INTEREST=null;
this.dDSsum_NEW_PMI=null;
this.DS_NEW_PRINCIPAL_BALANCE=null;
this.DS_OLD_PRINCIPAL_BALANCE=null;
this.DS_PREPAY_PRINCIPAL_BALANCE=null;
this.sSchedule=new KJE.Repeating()
};
KJE.MortgageRefinanceCalc.prototype.clear=function(){this.ORIGINAL_LOAN_AMT=0;
this.CURRENT_RATE=0;
this.CURRENT_LENGTH=0;
this.CURRENT_YEARS_REMAINING=0;
this.CURRENT_PMI_RATE=KJE.parameters.get("CURRENT_PMI_RATE",0.5);
this.NEW_RATE=0;
this.LOAN_ORIGINATION_RATE=0;
this.POINTS_PAID_NBR=0;
this.PMI_RATE=KJE.parameters.get("PMI_RATE",0.5);
this.OTHER_CLOSING_COSTS=0;
this.INCOME_TAX_RATE=0;
this.NEW_LENGTH=0;
this.NEW_LOAN_20_EQUITY=0;
this.OLD_LOAN_20_EQUITY=0
};
KJE.MortgageRefinanceCalc.prototype.calculate=function(aa){var aE=KJE;
var aA=this.ORIGINAL_LOAN_AMT;
var aD=this.CURRENT_RATE;
var ab=this.CURRENT_LENGTH;
var ar=this.CURRENT_YEARS_REMAINING;
var az=this.NEW_RATE;
var ap=this.LOAN_ORIGINATION_RATE;
var ay=this.POINTS_PAID_NBR;
var aB=this.OTHER_CLOSING_COSTS;
var ag=this.INCOME_TAX_RATE;
var ak=this.NEW_LENGTH;
var af=0;
var ax=0;
var ae=0;
var am=0;
var ah=0;
var ai=0;
this.dDS_BF_TAX_REFIN_DIFF=0;
this.dDS_BF_TAX_REFIN_CUMULATIVE=0;
this.dDS_AF_TAX_REFIN_DIFF=0;
this.dDS_AF_TAX_REFIN_CUMULATIVE=0;
this.dDS_BF_TAX_PREPAY_DIFF=0;
this.dDS_BF_TAX_PREPAY_CUMULATIVE=0;
this.dDS_AF_TAX_PREPAY_DIFF=0;
this.dDS_AF_TAX_PREPAY_CUMULATIVE=0;
var Y=aD/1200;
var i=az/1200;
var aj=aE.round(KJE.PMT(Y,ab*12,aA),2);
var aF=aA;
for(var U=1;
U<=(ab-ar)*12;
U++){aF-=aj-(aF*Y)
}if(this.COMPUTE_MY_BALANCE){this.NEW_LOAN_BALANCE=aF
}this.CURRENT_TOTAL_INTEREST=(aj*ar*12)-aF;
this.OLD_LOAN_20_EQUITY=this.OLD_LOAN_APPRAISED_VALUE*(1-this.PMI_PERCENT);
if(this.OLD_LOAN_20_EQUITY<this.NEW_LOAN_BALANCE&&!this.NO_PMI){ax=aA*(this.CURRENT_PMI_RATE/1200)
}else{ax=0
}this.NEW_LOAN_20_EQUITY=this.NEW_LOAN_APPRAISED_VALUE*(1-this.PMI_PERCENT);
if(this.NEW_LOAN_20_EQUITY<this.NEW_LOAN_BALANCE&&!this.NO_PMI){ae=((this.PMI_RATE/100)*this.NEW_LOAN_BALANCE)/12
}else{ae=0
}this.NEW_LOAN_20_EQUITY=this.NEW_LOAN_APPRAISED_VALUE*this.PMI_PERCENT;
var j=aE.round(KJE.PMT(i,ak*12,this.NEW_LOAN_BALANCE),2);
this.TOTAL_INTEREST=(j*ak*12)-this.NEW_LOAN_BALANCE;
var au=this.NEW_LOAN_BALANCE*(ap/100);
var aG=ay*0.01*this.NEW_LOAN_BALANCE;
var ac=au+aG+aB;
this.CURRENT_PAYMENT=aj+ax;
this.NEW_PAYMENT=ae+j;
this.DIFFERENCE_TOTAL_INTEREST=this.CURRENT_TOTAL_INTEREST-this.TOTAL_INTEREST;
var Z=Math.floor(ac/(this.CURRENT_PAYMENT-this.NEW_PAYMENT==0?0.001:this.CURRENT_PAYMENT-this.NEW_PAYMENT)+0.99);
if(Z<=0){Z=0
}if(Z>=ar*12){Z=0
}var aC;
if(ak>ar){aC=Math.round(ak)
}else{aC=Math.round(ar)
}this.DS_NEW_PRINCIPAL_BALANCE=KJE.FloatArray(aC);
this.DS_OLD_PRINCIPAL_BALANCE=KJE.FloatArray(aC);
this.DS_PREPAY_PRINCIPAL_BALANCE=KJE.FloatArray(aC);
this.DS_OLD_PAYMENT=KJE.FloatArray(aC);
this.DS_OLD_INTEREST=KJE.FloatArray(aC);
this.DS_OLD_EQUITY=KJE.FloatArray(aC);
this.DS_OLD_PMI=KJE.FloatArray(aC);
this.DS_OLD_TAX_DEDUCTION=KJE.FloatArray(aC);
this.DS_NEW_PAYMENT=KJE.FloatArray(aC);
this.DS_NEW_INTEREST=KJE.FloatArray(aC);
this.DS_NEW_EQUITY=KJE.FloatArray(aC);
this.DS_NEW_PMI=KJE.FloatArray(aC);
this.DS_NEW_TAX_DEDUCTION=KJE.FloatArray(aC);
this.DS_PREPAY_INTEREST=KJE.FloatArray(aC);
this.DS_PREPAY_PAYMENT=KJE.FloatArray(aC);
this.DS_PREPAY_EQUITY=KJE.FloatArray(aC);
this.DS_PREPAY_PMI=KJE.FloatArray(aC);
this.DS_PREPAY_TAX_DEDUCTION=KJE.FloatArray(aC);
this.DS_BF_TAX_REFIN_DIFF=KJE.FloatArray(aC);
this.DS_BF_TAX_REFIN_CUMULATIVE=KJE.FloatArray(aC);
this.DS_AF_TAX_REFIN_DIFF=KJE.FloatArray(aC);
this.DS_AF_TAX_REFIN_CUMULATIVE=KJE.FloatArray(aC);
this.DS_BF_TAX_PREPAY_DIFF=KJE.FloatArray(aC);
this.DS_BF_TAX_PREPAY_CUMULATIVE=KJE.FloatArray(aC);
this.DS_AF_TAX_PREPAY_DIFF=KJE.FloatArray(aC);
this.DS_AF_TAX_PREPAY_CUMULATIVE=KJE.FloatArray(aC);
this.PAYMENT_DIFFERENCE=(this.CURRENT_PAYMENT-this.NEW_PAYMENT);
if(this.PAYMENT_DIFFERENCE<0){this.PAYMENT_DIFFERENCE=aE.dollars(this.PAYMENT_DIFFERENCE*-1,0)+" "+this.MSG_MORE
}else{this.PAYMENT_DIFFERENCE=aE.dollars(this.PAYMENT_DIFFERENCE,0)+" "+this.MSG_LESS
}var T=0;
this.cats=new Array(aC);
if(aa){var al=this.sSchedule;
var aw="";
if(this.REPORT_BY_YEAR){aw=al.sReportCol("Year",3)
}else{aw=al.sReportCol("Month",4)
}al.clearRepeat();
al.addHeader({sCell:KJE._sHeadingUnderline,sContent:KJE.replace("CALC_RESULT",aE.dollars(aj+ax),al.sReportCol("Original Loan with CALC_RESULT payment",1)),sFormat:"COLSPAN=5 scope='colgroup'"},{sCell:KJE._sHeadingUnderline,sContent:KJE.replace("CALC_RESULT",aE.dollars(j+ae),al.sReportCol("New Loan with CALC_RESULT payment",2)),sFormat:"COLSPAN=4 scope='colgroup'"});
al.addHeader(aw,al.sReportCol("Equity",5),al.sReportCol("Interest",6),al.sReportCol(this.AU?"LMI":"PMI",7),al.sReportCol("Balance",8),al.sReportCol("Equity",5),al.sReportCol("Interest",6),al.sReportCol(this.AU?"LMI":"PMI",7),al.sReportCol("Balance",8))
}var V=this.NEW_LOAN_BALANCE;
var aq=aF;
var n=aF-ac;
var ad=false;
var ao=false;
var an=false;
var W=false;
var X=0;
this.CAT_BREAK_EVEN[X++]=this.MSG_BREAK_EVEN[0];
this.CAT_BREAK_EVEN[X]=this.MSG_BREAK_EVEN[1];
if(ax==0&&ae==0){this.CAT_BREAK_EVEN[X]=KJE.replace("PMI & i","I",this.CAT_BREAK_EVEN[X])
}X++;
if(!this.AU){this.CAT_BREAK_EVEN[X++]=this.MSG_BREAK_EVEN[2]
}this.CAT_BREAK_EVEN[X++]=this.MSG_BREAK_EVEN[3];
var av=0;
for(var X=1;
X<=(aC*12);
X++){if(ad==false){this.dDS_NEW_INTEREST=(V*i);
this.dDS_NEW_PAYMENT=j;
this.dDS_NEW_EQUITY=this.dDS_NEW_PAYMENT-this.dDS_NEW_INTEREST;
if(V<=this.NEW_LOAN_20_EQUITY||this.NO_PMI){this.dDS_NEW_PMI=0
}else{this.dDS_NEW_PMI=ae
}this.dDS_NEW_TAX_DEDUCTION=(this.dDS_NEW_INTEREST*(ag/100));
if(V<this.dDS_NEW_EQUITY||ak*12==X){this.dDS_NEW_EQUITY=V;
this.dDS_NEW_PAYMENT=this.dDS_NEW_EQUITY+this.dDS_NEW_INTEREST;
V=0;
ad=true
}else{V-=this.dDS_NEW_EQUITY
}}else{this.dDS_NEW_INTEREST=0;
this.dDS_NEW_PAYMENT=0;
this.dDS_NEW_EQUITY=0;
this.dDS_NEW_PMI=0;
this.dDS_NEW_TAX_DEDUCTION=0
}if(ao==false){this.dDS_OLD_INTEREST=(aq*Y);
this.dDS_OLD_PAYMENT=aj;
this.dDS_OLD_EQUITY=this.dDS_OLD_PAYMENT-this.dDS_OLD_INTEREST;
if(aq<=this.OLD_LOAN_20_EQUITY||this.NO_PMI){this.dDS_OLD_PMI=0
}else{this.dDS_OLD_PMI=ax
}this.dDS_OLD_TAX_DEDUCTION=(this.dDS_OLD_INTEREST*(ag/100));
if(aq<this.dDS_OLD_EQUITY||ar*12==X){this.dDS_OLD_EQUITY=aq;
this.dDS_OLD_PAYMENT=this.dDS_OLD_EQUITY+this.dDS_OLD_INTEREST;
aq=0;
ao=true
}else{aq-=this.dDS_OLD_EQUITY
}}else{this.dDS_OLD_INTEREST=0;
this.dDS_OLD_PAYMENT=0;
this.dDS_OLD_EQUITY=0;
this.dDS_OLD_PMI=0;
this.dDS_OLD_TAX_DEDUCTION=0
}if(an==false){this.dDS_PREPAY_INTEREST=(n*Y);
this.dDS_PREPAY_PAYMENT=aj;
this.dDS_PREPAY_EQUITY=this.dDS_PREPAY_PAYMENT-this.dDS_PREPAY_INTEREST;
if(n<=this.OLD_LOAN_20_EQUITY||this.NO_PMI){this.dDS_PREPAY_PMI=0
}else{this.dDS_PREPAY_PMI=ax
}this.dDS_PREPAY_TAX_DEDUCTION=(this.dDS_PREPAY_INTEREST*(ag/100));
if(n<this.dDS_PREPAY_EQUITY){this.dDS_PREPAY_EQUITY=n;
this.dDS_PREPAY_PAYMENT=this.dDS_PREPAY_EQUITY+this.dDS_PREPAY_INTEREST;
n=0;
an=true
}else{n-=this.dDS_PREPAY_EQUITY
}}else{this.dDS_PREPAY_INTEREST=0;
this.dDS_PREPAY_EQUITY=0;
this.dDS_PREPAY_PMI=0;
this.dDS_PREPAY_TAX_DEDUCTION=0;
this.dDS_PREPAY_PAYMENT=0
}this.dDSsum_OLD_EQUITY+=this.dDS_OLD_EQUITY;
this.dDSsum_OLD_INTEREST+=this.dDS_OLD_INTEREST;
this.dDSsum_OLD_PMI+=this.dDS_OLD_PMI;
this.dDSsum_NEW_EQUITY+=this.dDS_NEW_EQUITY;
this.dDSsum_NEW_INTEREST+=this.dDS_NEW_INTEREST;
this.dDSsum_NEW_PMI+=this.dDS_NEW_PMI;
this.dDS_NEW_PRINCIPAL_BALANCE=V;
this.dDS_OLD_PRINCIPAL_BALANCE=aq;
this.dDS_PREPAY_PRINCIPAL_BALANCE=n;
this.dDS_BF_TAX_REFIN_DIFF=(this.dDS_OLD_INTEREST+this.dDS_OLD_PMI)-(this.dDS_NEW_INTEREST+this.dDS_NEW_PMI);
this.dDS_BF_TAX_REFIN_CUMULATIVE=this.dDS_BF_TAX_REFIN_CUMULATIVE+this.dDS_BF_TAX_REFIN_DIFF;
this.dDS_AF_TAX_REFIN_DIFF=this.dDS_BF_TAX_REFIN_DIFF-this.dDS_OLD_TAX_DEDUCTION+this.dDS_NEW_TAX_DEDUCTION;
this.dDS_AF_TAX_REFIN_CUMULATIVE=this.dDS_AF_TAX_REFIN_CUMULATIVE+this.dDS_AF_TAX_REFIN_DIFF;
this.dDS_BF_TAX_PREPAY_DIFF=(this.dDS_OLD_INTEREST+this.dDS_OLD_PMI)-(this.dDS_PREPAY_INTEREST+this.dDS_PREPAY_PMI);
this.dDS_BF_TAX_PREPAY_CUMULATIVE=this.dDS_BF_TAX_PREPAY_CUMULATIVE+this.dDS_BF_TAX_PREPAY_CUMULATIVE;
this.dDS_AF_TAX_PREPAY_DIFF=this.dDS_BF_TAX_PREPAY_DIFF-this.dDS_OLD_TAX_DEDUCTION+this.dDS_PREPAY_TAX_DEDUCTION;
this.dDS_AF_TAX_PREPAY_CUMULATIVE=this.dDS_AF_TAX_PREPAY_CUMULATIVE+this.dDS_AF_TAX_PREPAY_DIFF;
T=Math.floor((X-1)/12);
this.cats[T]=""+(T+1);
this.DS_NEW_PRINCIPAL_BALANCE[T]=(this.dDS_NEW_PRINCIPAL_BALANCE);
this.DS_OLD_PRINCIPAL_BALANCE[T]=(this.dDS_OLD_PRINCIPAL_BALANCE);
this.DS_PREPAY_PRINCIPAL_BALANCE[T]=(this.dDS_PREPAY_PRINCIPAL_BALANCE);
this.DS_OLD_PAYMENT[T]+=(this.dDS_OLD_PAYMENT);
this.DS_OLD_INTEREST[T]+=(this.dDS_OLD_INTEREST);
this.DS_OLD_EQUITY[T]+=(this.dDS_OLD_EQUITY);
this.DS_OLD_PMI[T]+=(this.dDS_OLD_PMI);
this.DS_OLD_TAX_DEDUCTION[T]+=(this.dDS_OLD_TAX_DEDUCTION);
this.DS_NEW_INTEREST[T]+=(this.dDS_NEW_INTEREST);
this.DS_NEW_PAYMENT[T]+=(this.dDS_NEW_PAYMENT);
this.DS_NEW_EQUITY[T]+=(this.dDS_NEW_EQUITY);
this.DS_NEW_PMI[T]+=(this.dDS_NEW_PMI);
this.DS_NEW_TAX_DEDUCTION[T]+=(this.dDS_NEW_TAX_DEDUCTION);
this.DS_PREPAY_INTEREST[T]+=(this.dDS_PREPAY_INTEREST);
this.DS_PREPAY_PAYMENT[T]+=(this.dDS_PREPAY_PAYMENT);
this.DS_PREPAY_EQUITY[T]+=(this.dDS_PREPAY_EQUITY);
this.DS_PREPAY_PMI[T]+=(this.dDS_PREPAY_PMI);
this.DS_PREPAY_TAX_DEDUCTION[T]+=(this.dDS_PREPAY_TAX_DEDUCTION);
this.DS_BF_TAX_REFIN_DIFF[T]+=this.dDS_BF_TAX_REFIN_DIFF;
this.DS_BF_TAX_REFIN_CUMULATIVE[T]=(this.dDS_BF_TAX_REFIN_CUMULATIVE);
this.DS_AF_TAX_REFIN_DIFF[T]+=this.dDS_AF_TAX_REFIN_DIFF;
this.DS_AF_TAX_REFIN_CUMULATIVE[T]=(this.dDS_AF_TAX_REFIN_CUMULATIVE);
this.DS_BF_TAX_PREPAY_DIFF[T]+=this.dDS_BF_TAX_PREPAY_DIFF;
this.DS_BF_TAX_PREPAY_CUMULATIVE[T]=(this.dDS_BF_TAX_PREPAY_CUMULATIVE);
this.DS_AF_TAX_PREPAY_DIFF[T]+=this.dDS_AF_TAX_PREPAY_DIFF;
this.DS_AF_TAX_PREPAY_CUMULATIVE[T]=(this.dDS_AF_TAX_PREPAY_CUMULATIVE);
if(X==1){this.FIRST_NEW_INTEREST=this.dDS_NEW_INTEREST;
this.FIRST_NEW_EQUITY=this.dDS_NEW_EQUITY;
this.FIRST_NEW_PMI=this.dDS_NEW_PMI;
this.FIRST_OLD_INTEREST=this.dDS_OLD_INTEREST;
this.FIRST_OLD_EQUITY=this.dDS_OLD_EQUITY;
this.FIRST_OLD_PMI=this.dDS_OLD_PMI;
this.FIRST_PREPAY_INTEREST=this.dDS_PREPAY_INTEREST;
this.FIRST_PREPAY_EQUITY=this.dDS_PREPAY_EQUITY;
this.FIRST_PREPAY_PMI=this.dDS_PREPAY_PMI
}if(am==0){if(this.dDS_BF_TAX_REFIN_CUMULATIVE>ac){am=X;
W=true
}}if(ah==0){if(this.dDS_AF_TAX_REFIN_CUMULATIVE>ac){ah=X;
W=true
}}if(af==0){if((this.dDS_AF_TAX_REFIN_CUMULATIVE-this.dDS_AF_TAX_PREPAY_CUMULATIVE)>ac){af=X;
W=true
}}if(!this.REPORT_BY_YEAR){av=X
}else{av=T+1
}if((X%12)==0||this.REPORT_BY_YEAR==false){if(aa){al.addRepeat(av,aE.dollars(this.dDSsum_OLD_EQUITY),aE.dollars(this.dDSsum_OLD_INTEREST),aE.dollars(this.dDSsum_OLD_PMI),aE.dollars(this.dDS_OLD_PRINCIPAL_BALANCE),aE.dollars(this.dDSsum_NEW_EQUITY),aE.dollars(this.dDSsum_NEW_INTEREST),aE.dollars(this.dDSsum_NEW_PMI),aE.dollars(this.dDS_NEW_PRINCIPAL_BALANCE))
}this.dDSsum_OLD_EQUITY=0;
this.dDSsum_OLD_INTEREST=0;
this.dDSsum_OLD_PMI=0;
this.dDSsum_NEW_EQUITY=0;
this.dDSsum_NEW_INTEREST=0;
this.dDSsum_NEW_PMI=0
}}this.TOTAL_INTEREST_SAVINGS=(ar*aj*12)-(j*ak*12);
var at=this.NEW_LOAN_BALANCE-this.dDS_BF_TAX_PREPAY_CUMULATIVE;
var X=0;
this.DS_BREAK_EVEN[X++]=Z;
this.DS_BREAK_EVEN[X++]=am;
if(!this.AU){this.DS_BREAK_EVEN[X++]=ah
}this.DS_BREAK_EVEN[X++]=af;
if(this.DS_BREAK_EVEN[0]<=0){this.CAT_BREAK_EVEN[0]=this.MSG_BREAK_EVEN[4]
}else{W=true
}if(W==false){throw (this.MSG_ERROR1)
}this.BREAK_EVEN_INTEREST=am;
this.BREAK_EVEN_TAX_INTEREST=ah;
this.BREAK_EVEN_PREPAY=af;
this.CURRENT_PI=aj;
this.CURRENT_MONTHLY_PMI=ax;
this.MONTHLY_PMI=ae;
this.MONTHLY_PI=j;
this.LOAN_ORIGINATION_AMT=au;
this.POINTS_PAID_AMT=aG;
this.TOTAL_CLOSING_COSTS=ac;
this.BREAK_EVEN_PAYMENTS=Z;
this.BREAK_EVEN_INTEREST=am;
this.BREAK_EVEN_TAX_INTEREST=ah;
this.TOTAL_INTEREST_SAVINGS=ai;
this.INTEREST_SAVED_PREPAY=at
};
KJE.MortgageRefinanceCalc.prototype.formatReport=function(b){b.percent("PMI_PERCENT",this.PMI_PERCENT);
b.dollars("ORIGINAL_LOAN_AMT",this.ORIGINAL_LOAN_AMT);
b.percent("CURRENT_RATE",this.CURRENT_RATE/100,3);
b.number("CURRENT_LENGTH",this.CURRENT_LENGTH);
b.year("CURRENT_YEARS_REMAINING",this.CURRENT_YEARS_REMAINING);
b.dollars("CURRENT_PI",this.CURRENT_PI);
b.dollars("NEW_LOAN_APPRAISED_VALUE",this.NEW_LOAN_APPRAISED_VALUE);
b.dollars("OLD_LOAN_APPRAISED_VALUE",this.OLD_LOAN_APPRAISED_VALUE);
b.percent("CURRENT_PMI_RATE",this.CURRENT_PMI_RATE/100,3);
b.dollars("CURRENT_MONTHLY_PMI",this.CURRENT_MONTHLY_PMI);
b.yesno("COMPUTE_MY_BALANCE",this.COMPUTE_MY_BALANCE);
b.dollars("NEW_LOAN_BALANCE",this.NEW_LOAN_BALANCE);
b.percent("NEW_RATE",this.NEW_RATE/100,3);
b.percent("LOAN_ORIGINATION_RATE",this.LOAN_ORIGINATION_RATE/100,2);
b.number("POINTS_PAID_NBR",this.POINTS_PAID_NBR,3);
b.percent("PMI_RATE",this.PMI_RATE/100,3);
b.dollars("MONTHLY_PMI",this.MONTHLY_PMI);
b.dollars("MONTHLY_PI",this.MONTHLY_PI);
b.dollars("LOAN_ORIGINATION_AMT",this.LOAN_ORIGINATION_AMT);
b.dollars("POINTS_PAID_AMT",this.POINTS_PAID_AMT);
b.dollars("OTHER_CLOSING_COSTS",this.OTHER_CLOSING_COSTS);
b.dollars("TOTAL_CLOSING_COSTS",this.TOTAL_CLOSING_COSTS);
b.taxRate("INCOME_TAX_RATE",this.INCOME_TAX_RATE/100);
b.number("NEW_LENGTH",this.NEW_LENGTH);
b.dollars("CURRENT_PAYMENT",this.CURRENT_PAYMENT);
b.dollars("NEW_PAYMENT",this.NEW_PAYMENT);
b.number("BREAK_EVEN_PAYMENTS",this.BREAK_EVEN_PAYMENTS);
b.number("BREAK_EVEN_INTEREST",this.BREAK_EVEN_INTEREST);
b.number("BREAK_EVEN_TAX_INTEREST",this.BREAK_EVEN_TAX_INTEREST);
b.number("BREAK_EVEN_PREPAY",this.BREAK_EVEN_PREPAY);
b.dollars("TOTAL_INTEREST_SAVINGS",this.TOTAL_INTEREST_SAVINGS);
b.dollars("INTEREST_SAVED_PREPAY",this.INTEREST_SAVED_PREPAY);
b.dollars("OLD_LOAN_20_EQUITY",this.OLD_LOAN_20_EQUITY);
b.dollars("NEW_LOAN_20_EQUITY",this.NEW_LOAN_20_EQUITY);
b.dollars("CURRENT_TOTAL_INTEREST",this.CURRENT_TOTAL_INTEREST);
if(this.DIFFERENCE_TOTAL_INTEREST>0){b.dollars("DIFFERENCE_TOTAL_INTEREST",this.DIFFERENCE_TOTAL_INTEREST)
}else{b.dollars("DIFFERENCE_TOTAL_INTEREST",this.DIFFERENCE_TOTAL_INTEREST*-1)
}b.dollars("TOTAL_INTEREST",this.TOTAL_INTEREST);
if(this.CURRENT_MONTHLY_PMI==0&&this.MONTHLY_PMI==0){b.replace("PMI and interest","Interest");
b.replace("interest and PMI savings","interest savings")
}b.replace("**REPEATING GROUP**",this.sSchedule.getRepeat())
};
KJE.MortgageRefinanceCalc.prototype.formatGraph=function(c,d){d[0]._showItemValues=this._showItemValues;
d[0].paint()
};
KJE.CalcName="Mortgage Refinance Calculator";
KJE.CalcType="mortgagerefinance";
KJE.CalculatorTitleTemplate="Your refinanced payment is KJE1 per month.";
KJE.parseInputs=function(b){b=KJE.replace("**CURRENT_LENGTH**",KJE.getMortgageTermDrop("CURRENT_LENGTH",30),b);
b=KJE.replace("**CURRENT_YEARS_REMAINING**",KJE.getTermChoice("CURRENT_YEARS_REMAINING",KJE.parameters.get("CURRENT_YEARS_REMAINING",30),true,KJE.parameters.get("TERM_MAXIMUM",30),100,"",false,true),b);
b=KJE.replace("**NEW_LENGTH**",KJE.getMortgageTermDrop("NEW_LENGTH",30),b);
return b
};
KJE.initialize=function(){KJE.CalcControl=new KJE.MortgageRefinanceCalc();
KJE.GuiControl=new KJE.MortgageRefinance(KJE.CalcControl)
};
KJE.MortgageRefinance=function(u){var D=KJE;
var F=KJE.gLegend;
var B=KJE.inputs.items;
this.sPaymentCat=new Array(2);
this.fPaymentP=KJE.FloatArray(2);
this.fPaymentI=KJE.FloatArray(2);
this.fPaymentPMI=KJE.FloatArray(2);
this.AU=KJE.parameters.get("AU",false);
var w=KJE.parameters.get("MSG_OLD_PAYMENT","Original monthly payment: ");
var i=KJE.parameters.get("MSG_NEW_PAYMENT","New monthly payment: ");
this.MSG_GRAPH1=KJE.parameters.get("MSG_GRAPH1","Current");
this.MSG_GRAPH2=KJE.parameters.get("MSG_GRAPH2","New");
this.MSG_GRAPH3=KJE.parameters.get("MSG_GRAPH3",this.AU?"LMI":"PMI");
this.MSG_GRAPH4=KJE.parameters.get("MSG_GRAPH4","Principal");
this.MSG_GRAPH5=KJE.parameters.get("MSG_GRAPH5","Interest");
this.MSG_GRAPH6=KJE.parameters.get("MSG_GRAPH6","Monthly Payment Breakdown");
this.MSG_GRAPH7=KJE.parameters.get("MSG_GRAPH7","Months to Break Even");
this.MSG_GRAPH15=KJE.parameters.get("MSG_GRAPH15","Break Even with KJE1 in closing costs");
this.MSG_GRAPH9=KJE.parameters.get("MSG_GRAPH9","Schedule for current loan");
this.MSG_GRAPH8=KJE.parameters.get("MSG_GRAPH8","Totals by year for KJE1 per month");
this.MSG_GRAPH10=KJE.parameters.get("MSG_GRAPH10","Schedule if closing costs used to prepay loan");
this.MSG_GRAPH11=KJE.parameters.get("MSG_GRAPH11","Totals by year with KJE1 prepayment");
this.MSG_GRAPH12=KJE.parameters.get("MSG_GRAPH12","Schedule for refinanced loan");
this.MSG_GRAPH13=KJE.parameters.get("MSG_GRAPH13","Totals by year for KJE1 per month");
this.MSG_GRAPH16=KJE.parameters.get("MSG_GRAPH16","Refinancing");
this.MSG_GRAPH17=KJE.parameters.get("MSG_GRAPH17","Prepayment");
this.MSG_GRAPH18=KJE.parameters.get("MSG_GRAPH18","Cumulative savings by year");
this.MSG_GRAPH14=KJE.parameters.get("MSG_GRAPH14","Savings for refinancing vs. loan prepayment");
this.MSG_CLOSING_COSTS=KJE.parameters.get("MSG_CLOSING_COSTS","Closing Costs");
KJE.MortgageAmtSlider("ORIGINAL_LOAN_AMT","Original loan amount");
KJE.PercentSlider("CURRENT_RATE","Original interest rate",1,25,3);
KJE.MortgageTermDropBoxSlider("CURRENT_LENGTH","Term in years");
var l=new Array();
var t=KJE.parameters.get("TERM_MAXIMUM",30);
for(var y=0;
y<t;
y++){l[y]=(y+1)
}KJE.DropBoxSlider("CURRENT_YEARS_REMAINING","Years remaining",l);
KJE.MortgageAmtSlider("OLD_LOAN_APPRAISED_VALUE","Appraised value");
KJE.PercentSlider("NEW_RATE","Interest rate",1,25,3);
KJE.MortgageAmtSlider("NEW_LOAN_APPRAISED_VALUE","Appraised value");
KJE.PercentSlider("LOAN_ORIGINATION_RATE","Loan origination rate",0,10,2);
KJE.NumberSlider("POINTS_PAID_NBR","Points paid",-4,8,3,0.5);
KJE.DollarSlider("OTHER_CLOSING_COSTS","Other closing costs",0,10000);
KJE.PercentSlider("INCOME_TAX_RATE","Income tax rate",0,50,2);
KJE.MortgageTermDropBoxSlider("NEW_LENGTH","Term in years");
KJE.MortgageAmtSlider("NEW_LOAN_BALANCE","Loan balance");
KJE.Checkbox("COMPUTE_MY_BALANCE","Check here",true,"to calculate balance");
KJE.Checkbox("NO_PMI","Check here",false,(this.AU?"to NOT include LMI":"to NOT include any PMI"));
KJE.Radioboxes("REPORT_BY_YEAR","Report amortization",true,"Annually","Monthly");
var C=KJE.gNewGraph(KJE.gCATEGORIES,"GRAPH1",true,false,KJE.colorList[1],this.MSG_GRAPH15);
C._axisY.setFormat(D.FMT_NUMBER);
C._legend._iOrientation=(F.BOTTOM);
C._showItemLabel=true;
C._showItemLabelOnTop=true;
C._titleYAxis.setText(this.MSG_GRAPH7);
C._axisX.setVisible(false);
var z=KJE.gNewGraph(KJE.gSTACKED,"GRAPH2",true,true,KJE.colorList[1],this.MSG_GRAPH6);
z._legend._iOrientation=(F.TOP_RIGHT);
var A=KJE.gNewGraph(KJE.gLINE,"GRAPH3",true,true,KJE.colorList[1],KJE.parameters.get("MSG_GRAPH_TITLE1","Total Remaining Payments: ")+this.MSG_GRAPH1+" KJE1, "+this.MSG_GRAPH2+" KJE2");
A._legend._iOrientation=(KJE.gLegend.TOP_RIGHT);
A._titleYAxis.setText(KJE.sCurrency);
A._titleXAxis.setText(KJE.MSG_YEAR_LBL);
var s=KJE.parameters.get("MSG_DROPPER","Original mortgage");
var E=function(){return s+"|"+KJE.subText(w+" "+D.dollars(u.CURRENT_PAYMENT),"KJERightBold")
};
KJE.addDropper(new KJE.Dropper("INPUTS",true,E,E),KJE.colorList[0]);
var v=KJE.parameters.get("MSG_DROPPER2","New mortgage");
var x=function(){return v+"|"+KJE.subText(i+" "+D.dollars(u.NEW_PAYMENT),"KJERightBold")
};
KJE.addDropper(new KJE.Dropper("NEWLOAN",false,x,x),KJE.colorList[0])
};
KJE.MortgageRefinance.prototype.setValues=function(c){var d=KJE.inputs.items;
c.ORIGINAL_LOAN_AMT=d.ORIGINAL_LOAN_AMT.getValue();
c.CURRENT_RATE=d.CURRENT_RATE.getValue();
c.CURRENT_LENGTH=d.CURRENT_LENGTH.getValue();
c.CURRENT_YEARS_REMAINING=d.CURRENT_YEARS_REMAINING.getValue();
c.NEW_LOAN_BALANCE=d.NEW_LOAN_BALANCE.getValue();
c.NEW_RATE=d.NEW_RATE.getValue();
c.NEW_LOAN_APPRAISED_VALUE=d.NEW_LOAN_APPRAISED_VALUE.getValue();
c.LOAN_ORIGINATION_RATE=d.LOAN_ORIGINATION_RATE.getValue();
c.POINTS_PAID_NBR=d.POINTS_PAID_NBR.getValue();
c.OTHER_CLOSING_COSTS=d.OTHER_CLOSING_COSTS.getValue();
c.INCOME_TAX_RATE=d.INCOME_TAX_RATE.getValue();
c.NEW_LENGTH=d.NEW_LENGTH.getValue();
c.OLD_LOAN_APPRAISED_VALUE=d.OLD_LOAN_APPRAISED_VALUE.getValue();
c.COMPUTE_MY_BALANCE=d.COMPUTE_MY_BALANCE.getValue();
c.REPORT_BY_YEAR=d.REPORT_BY_YEAR.getValue();
c.NO_PMI=d.NO_PMI.getValue();
if(c.COMPUTE_MY_BALANCE){d.NEW_LOAN_BALANCE.disable()
}else{d.NEW_LOAN_BALANCE.enable()
}};
KJE.MortgageRefinance.prototype.refresh=function(l){var q=KJE;
var s=KJE.gLegend;
var p=KJE.inputs.items;
var m=KJE.gGraphs[0];
var o=KJE.gGraphs[1];
var n=KJE.gGraphs[2];
KJE.setTitleTemplate(l.PAYMENT_DIFFERENCE);
o.removeAll();
this.fPaymentPMI[1]=(l.FIRST_NEW_PMI);
this.fPaymentP[1]=(l.FIRST_NEW_EQUITY);
this.fPaymentI[1]=(l.FIRST_NEW_INTEREST);
this.fPaymentPMI[0]=(l.FIRST_OLD_PMI);
this.fPaymentP[0]=(l.FIRST_OLD_EQUITY);
this.fPaymentI[0]=(l.FIRST_OLD_INTEREST);
this.sPaymentCat[0]=this.MSG_GRAPH1+" "+q.dollars(l.CURRENT_PAYMENT);
this.sPaymentCat[1]=this.MSG_GRAPH2+" "+q.dollars(l.NEW_PAYMENT);
o.setGraphCategories(this.sPaymentCat);
o._bPopDetail=true;
o._bPopCat=false;
o.add(new KJE.gGraphDataSeries(this.fPaymentPMI,this.MSG_GRAPH3,o.getColor(1),"",this.MSG_GRAPH3));
o.add(new KJE.gGraphDataSeries(this.fPaymentP,this.MSG_GRAPH4,o.getColor(2),"",this.MSG_GRAPH4));
o.add(new KJE.gGraphDataSeries(this.fPaymentI,this.MSG_GRAPH5,o.getColor(3),"",this.MSG_GRAPH5));
o.paint();
m.removeAll();
var t=new Array(1);
var k=new Array(this.AU?3:4);
var r=0;
k[r]=(l.DS_BREAK_EVEN[r]>0?(q.number(l.DS_BREAK_EVEN[r])+" "+(l.DS_BREAK_EVEN[r]==1?KJE.MSG_MONTH_LBL:KJE.MSG_MONTHS_LBL)):l.MSG_NONE);
r++;
k[r]=q.number(l.DS_BREAK_EVEN[r])+" "+(l.DS_BREAK_EVEN[r]==1?KJE.MSG_MONTH_LBL:KJE.MSG_MONTHS_LBL);
if(!this.AU){r++;
k[r]=q.number(l.DS_BREAK_EVEN[r])+" "+(l.DS_BREAK_EVEN[r]==1?KJE.MSG_MONTH_LBL:KJE.MSG_MONTHS_LBL)
}r++;
k[r]=q.number(l.DS_BREAK_EVEN[r])+" "+(l.DS_BREAK_EVEN[r]==1?KJE.MSG_MONTH_LBL:KJE.MSG_MONTHS_LBL);
t[0]=k;
m._axisY.setFormat(q.FMT_NUMBER);
r=0;
l.CAT_BREAK_EVEN[r]+=" "+k[r++];
l.CAT_BREAK_EVEN[r]+=" "+k[r++];
if(!this.AU){l.CAT_BREAK_EVEN[r]+=" "+k[r++]
}l.CAT_BREAK_EVEN[r]+=" "+k[r++];
l._showItemValues=t;
m._showItemValues=t;
m.add(new KJE.gGraphDataSeries(l.DS_BREAK_EVEN,"",o.getColor(1)));
m.setGraphCategories(l.CAT_BREAK_EVEN);
m.setTitleTemplate(q.dollars(l.TOTAL_CLOSING_COSTS));
m.paint();
n.removeAll();
n.add(new KJE.gGraphDataSeries(l.DS_OLD_PRINCIPAL_BALANCE,this.MSG_GRAPH1,o.getColor(1)));
n.add(new KJE.gGraphDataSeries(l.DS_NEW_PRINCIPAL_BALANCE,this.MSG_GRAPH2,o.getColor(2)));
n.setGraphCategories(l.cats);
n.setTitleTemplate(q.dollars(l.CURRENT_TOTAL_INTEREST),q.dollars(l.TOTAL_INTEREST));
n.paint();
p.NEW_LOAN_BALANCE.setValue(l.NEW_LOAN_BALANCE,true)
};
KJE.InputScreenText=" <div id=KJE-D-INPUTS><div id=KJE-P-INPUTS>Input information:</div></div> <div id=KJE-E-INPUTS > <fieldset class='KJEAccessibleFieldSet'><legend class='KJEAccessibleFieldSetLegend'>Current loan</legend> <div id='KJE-C-ORIGINAL_LOAN_AMT'><input id='KJE-ORIGINAL_LOAN_AMT' /></div> <div id='KJE-C-OLD_LOAN_APPRAISED_VALUE'><input id='KJE-OLD_LOAN_APPRAISED_VALUE' /></div> <div id='KJE-C-CURRENT_RATE'><input id='KJE-CURRENT_RATE' /></div> <div id='KJE-C-CURRENT_LENGTH'>**CURRENT_LENGTH**</div> <div id='KJE-C-CURRENT_YEARS_REMAINING'>**CURRENT_YEARS_REMAINING**</div> <div id='KJE-C-INCOME_TAX_RATE'><input id='KJE-INCOME_TAX_RATE' /></div> <div id=\"KJE-C-REPORT_BY_YEAR\"><fieldset id='KJE-FS-REPORT_BY_YEAR'><input id=\"KJE-REPORT_BY_YEAR1\" type=radio name=REPORT_BY_YEAR /><input id=\"KJE-REPORT_BY_YEAR2\" type=radio name=REPORT_BY_YEAR /></fieldset></div> </fieldset> <div class=KJEDropperSpacer></div> </div> <div id=KJE-D-NEWLOAN><div id=KJE-P-NEWLOAN>NEWLOAN</div></div> <div id=KJE-E-NEWLOAN > <fieldset class='KJEAccessibleFieldSet'><legend class='KJEAccessibleFieldSetLegend'>New loan</legend> <div id='KJE-C-COMPUTE_MY_BALANCE'><input id='KJE-COMPUTE_MY_BALANCE' type=checkbox name='COMPUTE_MY_BALANCE' /></div> <div id='KJE-C-NEW_LOAN_BALANCE'><input id='KJE-NEW_LOAN_BALANCE' /></div> <div id='KJE-C-NEW_LOAN_APPRAISED_VALUE'><input id='KJE-NEW_LOAN_APPRAISED_VALUE' /></div> <div id='KJE-C-NEW_RATE'><input id='KJE-NEW_RATE' /></div> <div id='KJE-C-NEW_LENGTH'>**NEW_LENGTH**</div> <div id='KJE-C-LOAN_ORIGINATION_RATE'><input id='KJE-LOAN_ORIGINATION_RATE' /></div> <div id='KJE-C-POINTS_PAID_NBR'><input id='KJE-POINTS_PAID_NBR' /></div> <div id='KJE-C-OTHER_CLOSING_COSTS'><input id='KJE-OTHER_CLOSING_COSTS' /></div> <div id='KJE-C-NO_PMI'><input id='KJE-NO_PMI' type=checkbox name='NO_PMI' /></div> </fieldset> <div class=KJEDropperSpacer></div> </div> **GRAPH1** **GRAPH2** **GRAPH3** ";
KJE.DefinitionText=" <div id='KJE-D-ORIGINAL_LOAN_AMT' ><dt>Original mortgage amount</dt><dd>Original amount of your mortgage.</dd></div> <div id='KJE-D-OLD_LOAN_APPRAISED_VALUE' ><dt>Appraised value</dt><dd>The appraised value of your home when you purchased it.</dd></div> <div id='KJE-D-CURRENT_RATE' ><dt>Current interest rate</dt><dd>The annual interest rate for the original loan.</dd></div> <div id='KJE-D-CURRENT_LENGTH' ><dt>Current term in years</dt><dd>Total length of your current mortgage in years.</dd></div> <div id='KJE-D-CURRENT_YEARS_REMAINING' ><dt>Years remaining</dt><dd>Number of years remaining on your current mortgage.</dd></div> <div id='KJE-D-INCOME_TAX_RATE' ><dt>Income tax rate</dt><dd>Your current income tax rate. **TAXTABLE_CURRENT_DEFINITION**</dd></div> <div id='KJE-D-COMPUTE_MY_BALANCE' ><dt>Calculate balance</dt><dd>To let the calculator determine your remaining balance, based on your original loan information and years remaining, check this box. To enter your own amount, leave this box unchecked.</dd></div> <div id='KJE-D-NEW_LOAN_APPRAISED_VALUE' ><dt>Current appraised value</dt><dd>The current appraised value of your home.</dd></div> <div id='KJE-D-NEW_LOAN_BALANCE' ><dt>Loan balance</dt><dd>Balance of your mortgage that will be refinanced.</dd></div> <div id='KJE-D-NEW_RATE' ><dt>New interest rate</dt><dd>The annual interest rate for the new loan.</dd></div> <div id='KJE-D-NEW_LENGTH' ><dt>New term in years</dt><dd>Number of years for your new loan.</dd></div> <div id='KJE-D-LOAN_ORIGINATION_RATE' ><dt>Loan origination rate</dt><dd>This is the percentage of the new mortgage that is paid to the lender as the loan origination fee. Typically, this fee is 1% of the loan balance.</dd></div> <div id='KJE-D-POINTS_PAID_NBR' ><dt>Points paid</dt><dd>This is the number of points paid to the lender to reduce the interest rate on the mortgage. Each point costs 1% of the new loan amount.</dd></div> <div id='KJE-D-OTHER_CLOSING_COSTS' ><dt>Other closing costs</dt><dd>Estimate of all other closing costs for this loan. This should include filing fees, appraiser fees and any other miscellaneous fees paid.</dd></div> <div id='KJE-D-NO_PMI' ><dt>Monthly PMI payment</dt><dd>Monthly cost of Principal Mortgage Insurance (PMI). For loans secured with less than 20% down, PMI is estimated at 0.5% of your loan balance each year. Monthly PMI is calculated by multiplying your starting loan balance by this percent and dividing by 12. When the equity in your home exceeds the percentage required for PMI, your PMI payment drops to zero.<p>Normally PMI is required if you have less than 20% equity in your home, however for the refinance of loan guaranteed by Freddie Mac or Fannie Mae you may not be required to pay PMI if your current mortgage doesn't require it. Check with your lenders for details. Check the box &quot;do NOT include PMI&quot; if this applies to your refinance.</dd></div> <div><dt>Current payment</dt><dd>Your current payment is the sum of principal, interest and PMI (Principal Mortgage Insurance). Because refinancing does not affect your insurance or taxes, they are not included here.</dd></div> <div><dt>New payment</dt><dd>Your new payment is the sum of principal, interest and PMI.</dd></div> <div><dt>Monthly PI payment</dt><dd>Monthly principal and interest payment.</dd></div> <div><dt>Break even monthly payment savings</dt><dd>The number of months it will take for your monthly payment reduction to be greater than closing costs.</dd></div> <div><dt>Break even PMI & interest savings</dt><dd>The number of months it will take for your interest and PMI savings to exceed your closing costs.</dd></div> <div><dt>Break even total savings after-tax</dt><dd>The number of months it will take for your after-tax interest and PMI savings to exceed your closing costs.</dd></div> <div><dt>Break even total savings vs. prepayment</dt><dd>This is the most conservative break even measure. It is the number of months it will take for your after-tax interest and PMI savings to exceed both your closing costs and any interest savings from prepaying your mortgage. The prepayment amount used in this calculation is the amount that you would have to spend on closing costs.</dd></div> ";
KJE.ReportText=' <!--HEADING "Mortgage Refinance Break Even" HEADING--> <h2 class=\'KJEReportHeader KJEFontHeading\'>Mortgage Refinance Break Even</h2>The table below lists four different break even measurements. The computations become more conservative as you move down the list. Most people feel comfortable using methods 2 and 3. If you are planning on staying in your home longer than these measures, refinancing is a very good option. **GRAPH**<p> <div class=KJEReportTableDiv><table class=KJEReportTable> <caption class=\'KJEHeaderRow KJEHeading\'>Results Summary</caption> <thead class="KJEReportTHeader"> </thead> <tbody class="KJEReportTBody"> <thead class=\'KJEReportTHeader\'> <tr class=KJEHeaderRow><th class=\'KJEHeading KJECell20\' scope=\'col\'>Measure</th><th class="KJEHeading KJECell20" scope=\'col\'>Months</th><th class="KJEHeading KJECell60" scope=\'col\'>Definition</th></tr> </thead> <tbody class=\'KJEReportTBody\'> <tr class=KJEOddRow><th class="KJELabel KJECellBorder KJECell20" scope=\'row\'>Monthly payment savings:</th><td class="KJELabel KJECellBorder KJECell20">BREAK_EVEN_PAYMENTS</td><td class="KJECell KJECell60 KJELeftPad">The number of months it will take for your monthly payment reduction to be greater then your closing costs.<BR><BR></td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>PMI and interest savings:</th><td class="KJELabel KJECellBorder KJECell20">BREAK_EVEN_INTEREST</td><td class="KJECell KJELeftPad">The number of months it will take for your interest and PMI savings to exceed your closing costs.<BR><BR></td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>Total savings after-tax:</th><td class="KJELabel KJECellBorder KJECell20">BREAK_EVEN_TAX_INTEREST</td><td class="KJECell KJELeftPad">The number of months it will take for the after-tax interest and PMI savings to exceed your closing costs. Your income tax rate was entered as INCOME_TAX_RATE.<BR><BR></td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>Total savings vs. prepayment:</th><td class="KJELabel KJECellBorder KJECell20">BREAK_EVEN_PREPAY</td><td class="KJECell KJELeftPad">This is the most conservative break even measure. It is the number of months it will take for the after-tax interest and PMI savings to exceed both the closing costs and any interest savings from prepaying your mortgage. The prepayment amount used in this calculation is the amount that you would have to spend on closing costs.<BR><BR></td></tr> </tbody> </table> </div> <h2 class=\'KJEReportHeader KJEFontHeading\'>Refinancing Summary</h2>Refinancing will change your monthly payment for principal, interest and PMI from CURRENT_PAYMENT to NEW_PAYMENT. Your new loan will be NEW_LOAN_BALANCE at NEW_RATE for NEW_LENGTH years. Closing costs are estimated at TOTAL_CLOSING_COSTS. To avoid PMI payments on your new loan NEW_LOAN_20_EQUITY in equity is required. This equals PMI_PERCENT of your home\'s current appraisal price. **GRAPH** <div class=KJEReportTableSidebySide><div class="KJEReportTableDivLeft"><div class=\'KJEReportTableDiv\'><table class=\'KJEReportTable\'> <caption class=\'KJEHeaderRow KJEHeading\'>Original Loan</caption> <tfoot class="KJEReportTFooter"> <tr class=KJEFooterRow><th class="KJELabel KJECellBorder KJECell60" scope=\'row\' >Total interest remaining</th><td class="KJECellStrong KJECell40">CURRENT_TOTAL_INTEREST<br>&nbsp;</td></tr> </tfoot> <tbody class=KJEReportTBody> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>Mortgage amount</th><td class="KJECell">ORIGINAL_LOAN_AMT</td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\' >Appraised value</th><td class="KJECell">OLD_LOAN_APPRAISED_VALUE</td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>Interest rate</th><td class="KJECell">CURRENT_RATE</td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\' >Term in years</th><td class="KJECell">CURRENT_LENGTH</td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>Years remaining</th><td class="KJECell">CURRENT_YEARS_REMAINING</td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\' >PI payment</th><td class="KJECell">CURRENT_PI</td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>Monthly PMI</th><td class="KJECell">CURRENT_MONTHLY_PMI</td></tr> </tbody> </table></div></div><div class="KJEReportTableDivRight"><div class=\'KJEReportTableDiv\'><table class=\'KJEReportTable KJEReportTableRight\'> <caption class=\'KJEHeaderRow KJEHeading\'>New Loan</caption> <tfoot class="KJEReportTFooter"> <tr class=KJEFooterRow><th class="KJELabel KJECellBorder KJECell60" scope=\'row\' >Total interest</th><td class="KJECellStrong KJECell40">TOTAL_INTEREST<br>DIFFERENCE_TOTAL_INTEREST<br></td></tr> </tfoot> <tbody class=KJEReportTBody> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>Mortgage amount</th><td class="KJECell">NEW_LOAN_BALANCE</td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\' >Appraised value</th><td class="KJECell">NEW_LOAN_APPRAISED_VALUE</td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>Interest rate</th><td class="KJECell">NEW_RATE</td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\' >Term in years</th><td class="KJECell">NEW_LENGTH</td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>Years remaining</th><td class="KJECell">NEW_LENGTH</td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\' >PI payment</th><td class="KJECell">MONTHLY_PI</td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>Monthly PMI</th><td class="KJECell">MONTHLY_PMI</td></tr> </tbody> </table></div></div> </div> **GRAPH** <h2 class=\'KJEScheduleHeader KJEFontHeading\'>Payment Schedule Comparison</h2> **REPEATING GROUP** ';
KJE.parameters.set("CURRENT_LENGTH",30);
KJE.parameters.set("CURRENT_PMI_RATE",0.5);
KJE.parameters.set("CURRENT_RATE",8.5);
KJE.parameters.set("CURRENT_YEARS_REMAINING",25);
KJE.parameters.set("INCOME_TAX_RATE",KJE.Default.TaxRate);
KJE.parameters.set("LOAN_ORIGINATION_RATE",1);
KJE.parameters.set("NEW_LENGTH",30);
KJE.parameters.set("NEW_LOAN_APPRAISED_VALUE",KJE.Default.HomePrice);
KJE.parameters.set("NEW_RATE",KJE.Default.RateFix30);
KJE.parameters.set("OLD_LOAN_APPRAISED_VALUE",KJE.Default.HomePrice);
KJE.parameters.set("ORIGINAL_LOAN_AMT",KJE.Default.MortgageAmt);
KJE.parameters.set("OTHER_CLOSING_COSTS",800);
KJE.parameters.set("PLEASE_COMPUTE",1);
KJE.parameters.set("PMI_PERCENT",0.2);
KJE.parameters.set("PMI_RATE",0.5);
KJE.parameters.set("POINTS_PAID_NBR",1);