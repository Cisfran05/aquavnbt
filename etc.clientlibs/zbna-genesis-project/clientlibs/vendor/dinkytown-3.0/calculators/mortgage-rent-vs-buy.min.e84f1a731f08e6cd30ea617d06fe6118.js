KJE.Default.TaxRate=24;
KJE.Default.TaxRateRetire=22;
KJE.Default.TaxRateCapGain=15;
KJE.Default.StateTaxRate=8;
KJE.Default.IncomeTaxTableCurrent="Use the &lsquo;Filing Status and Federal Income Tax Rates on Taxable Income&rsquo; table to assist you in estimating your federal tax rate.<div class='KJEReportTableDiv'><table class='KJEReportTable KJEReportTableShrink'><caption class='KJEHeaderRow KJEHeading'>Filing Status and Federal Income Tax Rates on Taxable Income for 2024<sup>*</sup></caption><thead class='KJEReportTHeader'><tr class=KJEHeaderRow><th scope='col' class='KJEHeading KJECell10'>Tax Rate</th><th scope='col' class='KJEHeading KJECell225'>Married Filing Jointly or Qualified Widow(er)</th><th scope='col' class='KJEHeading KJECell225'>Single</th><th scope='col' class='KJEHeading KJECell225'>Head of Household</th><th scope='col' class='KJEHeading KJECell225'>Married Filing Separately</th></tr></thead><tbody class='KJEReportTBody'><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>10%</th><td class='KJECell KJECellBorder'>$0 -&nbsp;$23,200</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$11,600</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$16,550</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$11,600</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>12%</th><td class='KJECell KJECellBorder'>$23,200 -&nbsp;$94,300</td><td class='KJECell KJECellBorder'>$11,600 -&nbsp;$47,150</td><td class='KJECell KJECellBorder'>$16,550 -&nbsp;$63,100</td><td class='KJECell'>$11,600 -&nbsp;$47,150</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>22%</th><td class='KJECell KJECellBorder'>$94,300 -&nbsp;$201,050</td><td class='KJECell KJECellBorder'>$47,150 -&nbsp;$100,525</td><td class='KJECell KJECellBorder'>$63,100 -&nbsp;$100,500</td><td class='KJECell'>$47,150 -&nbsp;$100,525</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>24%</th><td class='KJECell KJECellBorder'>$201,050 -&nbsp;$383,900</td><td class='KJECell KJECellBorder'>$100,525 -&nbsp;$191,950</td><td class='KJECell KJECellBorder'>$100,500 -&nbsp;$191,950</td><td class='KJECell'>$100,525 -&nbsp;$191,950</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>32%</th><td class='KJECell KJECellBorder'>$383,900 -&nbsp;$487,450</td><td class='KJECell KJECellBorder'>$191,950 -&nbsp;$243,725</td><td class='KJECell KJECellBorder'>$191,950 -&nbsp;$243,700</td><td class='KJECell'>$191,950 -&nbsp;$243,725</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>35%</th><td class='KJECell KJECellBorder'>$487,450 -&nbsp;$731,200</td><td class='KJECell KJECellBorder'>$243,725 -&nbsp;$609,350</td><td class='KJECell KJECellBorder'>$243,700 -&nbsp;$609,350</td><td class='KJECell'>$243,725 -&nbsp;$365,600</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>37%</th><td class='KJECell KJECellBorder'>Over &nbsp;$731,200</td><td class='KJECell KJECellBorder'>Over &nbsp;$609,350</td><td class='KJECell KJECellBorder'>Over &nbsp;$609,350</td><td class='KJECell'>Over &nbsp;$365,600</td></tr></tbody><tfoot class='KJEReportTFooter'><tr class=KJEFooterRow><td class='KJECell KJECenterText' COLSPAN='5'><sup>*</sup>Caution: Do not use these tax rate schedules to figure 2023 taxes. Use only to figure 2024 estimates. Source: Rev. Proc. 2023-48</td></tr></tfoot></table></div>";
KJE.Default.StandardDeductionCurrent="<div class='KJEReportTableDiv'><table class='KJEReportTable'><caption class='KJEHeaderRow KJEHeading'>Standard Deduction for 2024 Federal Income Tax</caption><thead class='KJEReportTHeader'><tr class=KJEHeaderRow><th scope='col' class='KJEHeading KJECell60'>Filing Status</th><th scope='col' class='KJEHeading KJECell40'>Standard Deduction</th></tr></thead><tbody class='KJEReportTBody'><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>Married Filing Joint</th><td class='KJECell'>$29,200</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>Qualified Widow(er)</th><td class='KJECell'>$29,200</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>Single</th><td class='KJECell'>$14,600</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>Heads of Household</th><td class='KJECell'>$21,900</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>Married Filing Separately</th><td class='KJECell'>$14,600</td></tr></tbody></table></div>";
KJE.Default.CapitalGainsRatesCurrent="Long-term capital gains are taxed at lower, special capital gains rates and are calculated as follows (note that qualified dividends are taxed as if they were a long-term capital gain):<ul><li>Calculate your total taxable income without long-term capital gains. </li><li>Use this amount to determine the rate for your long-term gain, up to the top of the bracket.</li><li>The portion of your long-term capital gain that exceeds a bracket will be taxed at the next higher rate.</li><li>This calculator assumes that none of your long-term capital gains come from collectibles, section 1202 gains or un-recaptured 1250 gains.  These types of capital gains are taxed at 28%, 28% and 25% respectively (unless your ordinary income tax bracket is a lower rate).</li></ul><div class='KJEReportTableDiv'><table class='KJEReportTable KJEReportTableShrink'><caption class='KJEHeaderRow KJEHeading'>Long-term Capital Gain Tax Rates 2019<sup>*</sup></caption><thead class='KJEReportTHeader'><tr class=KJEHeaderRow><th scope='col' class='KJEHeading'>Tax Rate</th><th scope='col' class='KJEHeading KJECell225'>Married Filing Jointly or Qualified Widow(er)</th><th scope='col' class='KJEHeading KJECell225'>Single</th><th scope='col' class='KJEHeading KJECell225'>Head of Household</th><th scope='col' class='KJEHeading KJECell225'>Married Filing Separately</th></tr></thead><tbody class='KJEReportTBody'><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>0%</th><td class='KJECell KJECellBorder'>$0 -&nbsp;$94,050</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$47,025</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$63,000</td><td class='KJECell'>$0 -&nbsp;$47,025</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>15%</th><td class='KJECell KJECellBorder'>$94,050 -&nbsp;$583,750</td><td class='KJECell KJECellBorder'>$47,025 -&nbsp;$518,900</td><td class='KJECell KJECellBorder'>$63,000 -&nbsp;$551,350</td><td class='KJECell'>$47,025 -&nbsp;$291,850</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>20%</th><td class='KJECell KJECellBorder'>Over $583,750</td><td class='KJECell KJECellBorder'>Over $518,900</td><td class='KJECell KJECellBorder'>Over $551,350</td><td class='KJECell'> Over $291,850</td></tr></tbody><tfoot class='KJEReportTFooter'><tr class=KJEFooterRow><td class='KJECell KJECenter' COLSPAN='5'><sup>*</sup>Caution: Do not use these tax rate schedules to figure 2023 taxes. Use only to figure 2024 estimates. Source: Rev. Proc. 2022-48</td></tr></tfoot></table></div>";
KJE.Default.IncomeTaxTableTaxYear="Use the &lsquo;Filing Status and Federal Income Tax Rates on Taxable Income&rsquo; table to assist you in estimating your federal tax rate.<div class='KJEReportTableDiv'><table class='KJEReportTable KJEReportTableShrink'><caption class='KJEHeaderRow KJEHeading'>Filing Status and Federal Income Tax Rates on Taxable Income for 2023<sup>*</sup></caption><thead class='KJEReportTHeader'><tr class=KJEHeaderRow><th scope='col' class='KJEHeading KJECell10'>Tax Rate</th><th scope='col' class='KJEHeading KJECell225'>Married Filing Jointly or Qualified Widow(er)</th><th scope='col' class='KJEHeading KJECell225'>Single</th><th scope='col' class='KJEHeading KJECell225'>Head of Household</th><th scope='col' class='KJEHeading KJECell225'>Married Filing Separately</th></tr></thead><tbody class='KJEReportTBody'><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>10%</th><td class='KJECell KJECellBorder'>$0 -&nbsp;$22,000</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$11,000</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$15,700</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$11,000</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>12%</th><td class='KJECell KJECellBorder'>$22,000 -&nbsp;$89,450</td><td class='KJECell KJECellBorder'>$11,000 -&nbsp;$44,725</td><td class='KJECell KJECellBorder'>$15,700 -&nbsp;$59,850</td><td class='KJECell'>$11,000 -&nbsp;$44,725</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>22%</th><td class='KJECell KJECellBorder'>$89,450 -&nbsp;$190,750</td><td class='KJECell KJECellBorder'>$44,725 -&nbsp;$95,375</td><td class='KJECell KJECellBorder'>$59,850 -&nbsp;$95,350</td><td class='KJECell'>$44,725 -&nbsp;$95,375</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>24%</th><td class='KJECell KJECellBorder'>$190,750 -&nbsp;$364,200</td><td class='KJECell KJECellBorder'>$95,375 -&nbsp;$182,100</td><td class='KJECell KJECellBorder'>$95,350 -&nbsp;$182,100</td><td class='KJECell'>$95,375 -&nbsp;$182,100</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>32%</th><td class='KJECell KJECellBorder'>$364,200 -&nbsp;$462,500</td><td class='KJECell KJECellBorder'>$182,100 -&nbsp;$231,250</td><td class='KJECell KJECellBorder'>$182,100 -&nbsp;$231,250</td><td class='KJECell'>$182,100 -&nbsp;$231,250</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>35%</th><td class='KJECell KJECellBorder'>$462,500 -&nbsp;$693,750</td><td class='KJECell KJECellBorder'>$231,250 -&nbsp;$578,125</td><td class='KJECell KJECellBorder'>$231,250 -&nbsp;$578,100</td><td class='KJECell'>$231,250 -&nbsp;$346,875</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>37%</th><td class='KJECell KJECellBorder'>Over &nbsp;$693,750</td><td class='KJECell KJECellBorder'>Over &nbsp;$578,125</td><td class='KJECell KJECellBorder'>Over &nbsp;$578,100</td><td class='KJECell'>Over &nbsp;$346,875</td></tr></tbody><tfoot class='KJEReportTFooter'><tr class=KJEFooterRow><td class='KJECell KJECenterText' COLSPAN='5'><sup>*</sup>Caution: Do not use these tax rate schedules to figure 2022 taxes. Use only to figure 2023 estimates. Source: Rev. Proc. 2022-38</td></tr></tfoot></table></div>";
KJE.Default.StandardDeductionTaxYear="<div class='KJEReportTableDiv'><table class='KJEReportTable'><caption class='KJEHeaderRow KJEHeading'>Standard Deduction for 2023 Federal Income Tax</caption><thead class='KJEReportTHeader'><tr class=KJEHeaderRow><th scope='col' class='KJEHeading KJECell60'>Filing Status</th><th scope='col' class='KJEHeading KJECell40'>Standard Deduction</th></tr></thead><tbody class='KJEReportTBody'><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>Married Filing Joint</th><td class='KJECell'>$27,700</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>Qualified Widow(er)</th><td class='KJECell'>$27,700</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>Single</th><td class='KJECell'>$13,850</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>Heads of Household</th><td class='KJECell'>$20,800</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>Married Filing Separately</th><td class='KJECell'>$13,850</td></tr></tbody></table></div>";
KJE.Default.CapitalGainsRatesTaxYear="long-term capital gains are taxed at lower, special capital gains rates and are calculated as follows (note that qualified dividends are taxed as if they were a long-term capital gain):<ul><li>Calculate your total taxable income without long-term capital gains. </li><li>Use this amount to determine the rate for your long-term gain, up to the top of the bracket.</li><li>The portion of your long-term capital gain that exceeds a bracket will be taxed at the next higher rate.</li><li>This calculator assumes that none of your long-term capital gains come from collectibles, section 1202 gains or un-recaptured 1250 gains.  These types of capital gains are taxed at 28%, 28% and 25% respectively (unless your ordinary income tax bracket is a lower rate).</li></ul><div class='KJEReportTableDiv'><table class='KJEReportTable KJEReportTableShrink'><caption class='KJEHeaderRow KJEHeading'>Long-term Capital Gain Tax Rates 2023<sup>*</sup></caption><thead class='KJEReportTHeader'><tr class=KJEHeaderRow><th scope='col' class='KJEHeading'>Tax Rate</th><th scope='col' class='KJEHeading KJECell225'>Married Filing Jointly or Qualified Widow(er)</th><th scope='col' class='KJEHeading KJECell225'>Single</th><th scope='col' class='KJEHeading KJECell225'>Head of Household</th><th scope='col' class='KJEHeading KJECell225'>Married Filing Separately</th></tr></thead><tbody class='KJEReportTBody'><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>0%</th><td class='KJECell KJECellBorder'>$0 -&nbsp;$89,250</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$44,625</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$59,750</td><td class='KJECell'>$0 -&nbsp;$44,625</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>15%</th><td class='KJECell KJECellBorder'>$89,250 -&nbsp;$553,850</td><td class='KJECell KJECellBorder'>$44,625 -&nbsp;$492,300</td><td class='KJECell KJECellBorder'>$59,750 -&nbsp;$523,050</td><td class='KJECell'>$44,625 -&nbsp;$276,900</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>20%</th><td class='KJECell KJECellBorder'>Over $553,850</td><td class='KJECell KJECellBorder'>Over $492,300</td><td class='KJECell KJECellBorder'>Over $523,050</td><td class='KJECell'> Over $276,900</td></tr></tbody><tfoot class='KJEReportTFooter'><tr class=KJEFooterRow><td class='KJECell KJECenter' COLSPAN='5'><sup>*</sup>Caution: Do not use these tax rate schedules to figure 2022 taxes. Use only to figure 2023 estimates. Source: Rev. Proc. 2022-38</td></tr></tfoot></table></div>";
KJE.definitions.set("**TAXCAPGAINS_CURRENT_DEFINITION**",KJE.Default.CapitalGainsRatesCurrent);
KJE.definitions.set("**TAXCAPGAINS_TAXYEAR_DEFINITION**",KJE.Default.CapitalGainsRatesTaxYear);
KJE.definitions.set("**TAXTABLE_CURRENT_DEFINITION**",KJE.Default.IncomeTaxTableCurrent);
KJE.definitions.set("**TAXTABLE_TAXYEAR_DEFINITION**",KJE.Default.IncomeTaxTableTaxYear);
KJE.definitions.set("**STANDARDDEDUCTION_CURRENT_DEFINITION**",KJE.Default.StandardDeductionCurrent);
KJE.definitions.set("**STANDARDDEDUCTION_TAXYEAR_DEFINITION**",KJE.Default.StandardDeductionTaxYear);
KJE.MortgageRentvsBuyCalc=function(){this.PROVINCE_SELECTED=-1;
this.GROSS_SALE_TAX=0;
this.GST_TOTAL_REBATE=0;
this.HST_TOTAL_REBATE=0;
this.MAINTENANCE=0;
this.bUSE_FLEX=false;
this.OTHER_CLOSING_COSTS_RATE=0;
this.USE_OTHER_FEES_AMOUNT=true;
this.LOAN_ORIGINATION_AMT=0;
this.PROPERTY_TAX_AMT=0;
this.ANNUAL_REPORT_PERIOD=true;
this.GST_TAX=0;
this.GST_TAX_USE=false;
this.TOTAL_CMHC=0;
this.RATE_CMHC=0;
this.LOAN_TO_VALUE=0;
this.TOTAL_ACTUAL_CMHC=0;
this.bMORTGAGE_INSURANCE=true;
this.PMI_RATE=KJE.parameters.get("PMI_RATE",0.5);
this.MONTHLY_PMI=KJE.parameters.getSet("MONTHLY_PMI",0);
this.PMI_CALCULATE=KJE.parameters.get("PMI_CALCULATE",true);
this.PMI_PERCENTAGE=KJE.parameters.get("PMI_PERCENTAGE",0.2);
this.oldLOAN_AMOUNT=0;
this.oldDOWNPAYMENT_20=0;
this.CMHC_SHOW_ALL_RATES=KJE.parameters.get("CMHC_SHOW_ALL_RATES",false);
this.USE_OTHER_FEES_AMOUNT=KJE.parameters.get("USE_OTHER_FEES_AMOUNT",true);
this.MSG_RESULT1=KJE.parameters.get("MSG_RESULT1","Your home purchase breaks even in approximately BREAKEVEN_YEARS years.");
this.MSG_DESC1=KJE.parameters.get("MSG_DESC1","If you cannot remain in your home for at least BREAKEVEN_YEARS years you should consider continuing to rent.");
this.MSG_RESULT2=KJE.parameters.get("MSG_RESULT2","Your home purchase does not break even after LENGTH_OF_LOAN years.");
this.MSG_DESC2=KJE.parameters.get("MSG_DESC2","Your home purchase does not break even after LENGTH_OF_LOAN years. You should consider continuing to rent.");
this.MSG_ERROR1=KJE.parameters.get("MSG_ERROR1","You do not have enough cash on hand to cover your closing costs.");
var b=this.CAMORTGAGE=KJE.parameters.get("CAMORTGAGE",false);
this.MSG_REMAINING_CASH=KJE.parameters.get("MSG_REMAINING_CASH","Remaining cash");
this.MSG_LOAN_ORIGINATION_RATE=KJE.parameters.get("MSG_LOAN_ORIGINATION_RATE",b?"Mortgage fee":"Loan origination");
this.MSG_POINTS_PAID_NBR=KJE.parameters.get("MSG_POINTS_PAID_NBR","Points paid");
this.MSG_OTHER_CLOSING_COSTS=KJE.parameters.get("MSG_OTHER_CLOSING_COSTS","Other closing costs");
this.MSG_GRAPH3=KJE.parameters.get("MSG_GRAPH3","Net house payment");
this.MSG_GRAPH4=KJE.parameters.get("MSG_GRAPH4","Rent payment");
this.MSG_GRAPH5=KJE.parameters.get("MSG_GRAPH5","Monthly Payment Breakdown");
this.MSG_GRAPH6=KJE.parameters.get("MSG_GRAPH6","House payment");
this.MSG_GRAPH7=KJE.parameters.get("MSG_GRAPH7","Initial tax savings");
this.MSG_GRAPH8=KJE.parameters.get("MSG_GRAPH8","Initial principal payment");
this.DS_RENT=null;
this.DS_INVESTMENT_TOTAL=null;
this.DS_PMI=null;
this.DS_EQUITY=null;
this.DS_EQUITY_AFTER_COSTS=null;
this.DS_INTEREST=null;
this.DS_INSURANCE=null;
this.DS_TAXES=null;
this.DS_PROPERTY_TAXES=null;
this.DS_MONTHLY_TOTAL_PMT=null;
this.DS_NET_HOME_COST=null;
this.DS_HOME_VALUE=null;
this.DS_HOME_EQUITY=null;
this.sCat4=new Array((b?4:5));
this.DS_G4=KJE.FloatArray((b?4:5));
this.cats2=new Array((b?4:5));
this.DS_G2=KJE.FloatArray((b?4:5));
this.sSchedule=new KJE.Repeating()
};
KJE.MortgageRentvsBuyCalc.prototype.clear=function(){this.PRICE_OF_HOME=0;
this.MAXIMUM_20_DOWN=false;
this.DOWNPAYMENT_CLOSING_CASH=0;
this.PROPERTY_TAX_RATE=0;
this.HOME_INSURANCE_RATE=0;
this.INTEREST_RATE=0;
this.LENGTH_OF_LOAN=0;
this.LOAN_ORIGINATION_RATE=0;
this.POINTS_PAID_NBR=0;
this.OTHER_CLOSING_COSTS=0;
this.TAX_RATE=0;
this.MONTHLY_RENT=0;
this.INFLATION_RATE=0;
this.INVESTMENT_RETURN=0;
this.HOME_APPRECIATION_RATE=0;
this.HOME_COMMISION_RATE=0
};
KJE.MortgageRentvsBuyCalc.prototype.calculate=function(an){var a9=KJE;
var at=this.PRICE_OF_HOME;
var aN=this.DOWNPAYMENT_CLOSING_CASH;
var aO=this.PROPERTY_TAX_RATE;
var aD=this.HOME_INSURANCE_RATE;
var ba=this.INTEREST_RATE;
var av=this.LENGTH_OF_LOAN;
var aJ=this.LOAN_ORIGINATION_RATE;
var a4=this.POINTS_PAID_NBR;
var a6=this.OTHER_CLOSING_COSTS;
var a5=this.TAX_RATE;
var bc=this.MONTHLY_RENT;
var aV=this.INFLATION_RATE;
var aR=this.INVESTMENT_RETURN;
var az=this.HOME_APPRECIATION_RATE;
var aW=this.HOME_COMMISION_RATE;
var bb=0;
var aq=0;
var aB=0;
var ay=this.MONTHLY_PMI;
var ax=0;
var aP=false;
var a7=at/2;
var aT=at;
var ak=0;
var i=0;
var aU=at*this.PMI_PERCENTAGE;
var aL=this.CAMORTGAGE;
if(aL){this.ENTERED_INTEREST_RATE=ba;
ba=(Math.pow(1+(ba/200),(1/6))-1)*1200
}this.GST_TAX=0;
if(aL){var al=KJE.Default.getGST(this.GST_TAX_USE,at,this.PROVINCE_SELECTED);
this.GST_TAX=al.N;
this.GROSS_SALE_TAX=al.G;
this.GST_TOTAL_REBATE=al.R1;
this.HST_TOTAL_REBATE=al.R2
}while(aP==false){this.LOAN_ORIGINATION_AMT=(aL?this.LOAN_ORIGINATION_AMT:aT*(aJ/100));
if(!this.USE_OTHER_FEES_AMOUNT){a6=a9.round((this.OTHER_CLOSING_COSTS_RATE/100)*aT,2)
}bb=aT*(a4/100);
aq=this.GST_TAX+bb+this.LOAN_ORIGINATION_AMT+a6;
aB=aN-aq;
if((aB>aU)&&(this.MAXIMUM_20_DOWN==1)&&(!aL)){aB=aU
}if(aL){aT=at-aB;
this.RATE_CMHC=KJE.Default.getCMHCRate(aT,aB,at,this.bUSE_FLEX,av,this.CMHC_SHOW_ALL_RATES);
this.TOTAL_ACTUAL_CMHC=aT*this.RATE_CMHC;
this.RATE_CMHC=(this.bMORTGAGE_INSURANCE?this.RATE_CMHC:0);
this.TOTAL_CMHC=aT*this.RATE_CMHC;
aT=aT+this.TOTAL_CMHC
}else{this.RATE_CMHC=0;
this.TOTAL_CMHC=0
}i=aT+aB-this.TOTAL_CMHC;
if(Math.round(at*1000)==Math.round(i*1000)){aP=true
}else{if(at>i){aT+=a7
}else{aT-=a7
}}if(aT<0){aT=0
}a7=(a7/2);
ak++;
if(ak>50){aP=true
}}if(aB<(aL?KJE.Default.DownpaymentForPurchasePrice(at):0)){throw (KJE.getKJEReplaced(this.MSG_ERROR1,aL?a9.dollars(KJE.Default.DownpaymentForPurchasePrice(at),0):""))
}if(aT==0){aB=at
}if(aL){ay=0
}else{if(this.PMI_CALCULATE&&(aU!=this.oldDOWNPAYMENT_20||aT!=this.oldLOAN_AMOUNT)){if(aU>aB){ay=aT*(this.PMI_RATE/1200)
}else{ay=0
}}this.oldLOAN_AMOUNT=aT;
this.oldDOWNPAYMENT_20=aU
}var ar=at*(aD/100);
if(!aL){this.PROPERTY_TAX_AMT=at*(aO/100)
}var aF=ar/12;
var aE=this.PROPERTY_TAX_AMT/12;
var aZ=aq+aU;
var aC=a9.round(KJE.PMT(ba/1200,av*12,aT),2);
var aX=aE+aF+aC+ay+this.MAINTENANCE;
var a8=Math.round(av);
var aI=0;
this.DS_RENT=KJE.FloatArray(a8);
this.DS_INVESTMENT_TOTAL=KJE.FloatArray(a8);
this.DS_PMI=KJE.FloatArray(a8);
this.DS_EQUITY=KJE.FloatArray(a8);
this.DS_INTEREST=KJE.FloatArray(a8);
this.DS_INSURANCE=KJE.FloatArray(a8);
this.DS_TAXES=KJE.FloatArray(a8);
this.DS_PROPERTY_TAXES=KJE.FloatArray(a8);
this.DS_MONTHLY_TOTAL_PMT=KJE.FloatArray(a8);
this.DS_NET_HOME_COST=KJE.FloatArray(a8);
this.DS_HOME_VALUE=KJE.FloatArray(a8);
this.DS_HOME_EQUITY=KJE.FloatArray(a8);
this.DS_EQUITY_AFTER_COSTS=KJE.FloatArray(a8);
this.cats=["1","2","3","4","5","6","7","8","9","10"];
if(an){var aH=this.sSchedule;
var a0=(this.ANNUAL_REPORT_PERIOD?aH.sReportCol("<br/>Year",7):aH.sReportCol("<br/>Nbr",1));
aH.clearRepeat();
aH.addHeader(a0,aH.sReportCol("House<br />Payment (PITI)",2),(aL?"":aH.sReportCol("Payment<br />After-Tax Savings",3)),aH.sReportCol("Rent<br />Payment",4),aH.sReportCol("Value of<br />Investment",5),aH.sReportCol("Home<br />Equity",6))
}var n=0;
var aY=0;
var aQ=0;
var aS=0;
var aK=0;
var am=0;
var ao=bc;
var a1=aB+aq;
var a2=aF;
var aA=aE;
var au=at-aT;
var aj=at;
var ap=this.MAINTENANCE;
var aM=KJE.ROR_MONTH(aR/100);
var aw=aT;
var a3=(aj-aw)-(aj*aW/100);
var aG=(aj*(az/1200));
aI=0;
for(var ai=1;
ai<=a8*12;
ai++){if(((ai-1)%12)==0&&ai!=1){ao*=(1+(aV/100));
a2=aj*(aD/1200);
ap*=(1+(aV/100));
if(aL){aA*=(1+(aV/100))
}else{aA=aj*(aO/1200)
}aG=(aj*(az/1200))
}aQ=a9.round(ba/1200*aw,2);
aY=aC-aQ;
aw-=aY;
if(aw<0){aw=0;
aY=aC-aw-aQ
}if(a8*12==ai){if(aw>0.005){aw=0;
aY=aC+aw-aQ
}else{aw=0
}}if(!aL&&aU>(at-aw)){if(this.PMI_CALCULATE){n=aT*(this.PMI_RATE/1200)
}else{n=ay
}}else{n=0
}aK=a2+aA+aQ+aY+n+ap;
aS=(aQ+aA)*(a5/100);
a1=a1*(1+aM)+(aK-ao-aS);
am=aK-aS-aY;
aj+=aG;
au=aj-aw;
a3=au-(aj*aW/100);
if(ax==0){if(a3>a1){ax=(ai)/12
}}this.DS_RENT[aI]=ao;
this.DS_PMI[aI]=n;
this.DS_EQUITY[aI]=aY;
this.DS_INTEREST[aI]=aQ;
this.DS_INSURANCE[aI]=a2;
this.DS_TAXES[aI]=aS;
this.DS_PROPERTY_TAXES[aI]=aA;
this.DS_MONTHLY_TOTAL_PMT[aI]=aK;
this.DS_NET_HOME_COST[aI]=am;
this.DS_HOME_VALUE[aI]=(aj);
this.DS_HOME_EQUITY[aI]=(au);
this.DS_EQUITY_AFTER_COSTS[aI]=(a3);
this.DS_INVESTMENT_TOTAL[aI]=(a1<0?0:a1);
if(((ai-1)%12)==0&&ai!=1){aI++
}if(((ai%12)==0)||!this.ANNUAL_REPORT_PERIOD){if(an){aH.addRepeat((this.ANNUAL_REPORT_PERIOD?aI+1:ai),a9.dollars(aK,2),(aL?"":a9.dollars(am+aY,2)),a9.dollars(ao,2),a9.dollars(a1),a9.dollars(a3))
}}}this.HOME_INSURANCE_AMT=ar;
this.POINTS_PAID_AMT=bb;
this.TOTAL_CLOSING_COSTS=aq;
this.TOTAL_FOR_DOWNPAYMENT=aB;
this.LOAN_AMOUNT=aT;
this.DOWNPAYMENT_20=aU;
this.CLOSING_CLOSING_COSTS_20=aZ;
this.HOME_INSURANCE_MONTHLY=aF;
this.PROPERY_TAX_MONTHLY=aE;
this.MONTHLY_PI=aC;
this.MONTHLY_PMI=ay;
this.MONTH_PMI_EXEMPT=(aB>=aU);
this.MONTHLY_TOTAL_PMT=aX;
this.BREAKEVEN_YEARS=ax;
ai=0;
this.DS_G4[ai]=this.TOTAL_FOR_DOWNPAYMENT;
this.sCat4[ai++]=this.MSG_DOWNPAYMENT+" "+a9.dollars(this.TOTAL_FOR_DOWNPAYMENT);
this.DS_G4[ai]=this.LOAN_ORIGINATION_AMT;
this.sCat4[ai++]=this.MSG_LOAN_ORIGINATION_RATE+" "+a9.dollars(this.LOAN_ORIGINATION_AMT);
if(!aL){this.DS_G4[ai]=this.POINTS_PAID_AMT;
this.sCat4[ai++]=this.sCat4[2]=this.POINTS_PAID_NBR+" "+a9.dollars(this.POINTS_PAID_AMT)
}this.DS_G4[ai]=this.OTHER_CLOSING_COSTS;
this.sCat4[ai++]=this.MSG_OTHER_CLOSING_COSTS+" "+a9.dollars(this.OTHER_CLOSING_COSTS);
this.DS_G4[ai]=(this.DOWNPAYMENT_CLOSING_CASH-this.TOTAL_CLOSING_COSTS-this.TOTAL_FOR_DOWNPAYMENT);
this.sCat4[ai]=this.MSG_REMAINING_CASH+" "+a9.dollars(this.DOWNPAYMENT_CLOSING_CASH-this.TOTAL_CLOSING_COSTS-this.TOTAL_FOR_DOWNPAYMENT);
this.RESULT_MESSAGE_MAIN=this.MSG_RESULT2;
if(this.BREAKEVEN_YEARS>0&&this.BREAKEVEN_YEARS<=this.LENGTH_OF_LOAN){this.RESULT_MESSAGE_MAIN=this.MSG_RESULT1
}this.RESULT_MESSAGE_MAIN=KJE.replace("BREAKEVEN_YEARS",a9.number(this.BREAKEVEN_YEARS,1),this.RESULT_MESSAGE_MAIN);
this.RESULT_MESSAGE_MAIN=KJE.replace("LENGTH_OF_LOAN",a9.number(this.LENGTH_OF_LOAN),this.RESULT_MESSAGE_MAIN);
ai=0;
this.cats2[ai++]=this.MSG_GRAPH4+" "+a9.dollars(this.DS_RENT[0]);
this.cats2[ai++]=this.MSG_GRAPH6+" "+a9.dollars(this.DS_MONTHLY_TOTAL_PMT[0]);
if(!aL){this.cats2[ai++]=this.MSG_GRAPH7+" "+a9.dollars(this.DS_TAXES[0])
}this.cats2[ai++]=this.MSG_GRAPH8+" "+a9.dollars(this.DS_EQUITY[0]);
this.cats2[ai++]=this.MSG_GRAPH3+" "+a9.dollars(this.DS_NET_HOME_COST[0]);
ai=0;
this.DS_G2[ai++]=this.DS_RENT[0];
this.DS_G2[ai++]=this.DS_MONTHLY_TOTAL_PMT[0];
if(!aL){this.DS_G2[ai++]=this.DS_TAXES[0]
}this.DS_G2[ai++]=this.DS_EQUITY[0];
this.DS_G2[ai++]=this.DS_NET_HOME_COST[0]
};
KJE.MortgageRentvsBuyCalc.prototype.formatReport=function(b){b.replace("MSG_INSURANCE_NOT_INCLUDED",(this.TOTAL_CMHC==this.TOTAL_ACTUAL_CMHC?"":KJE.Default.MSG_INSURANCE_NOT_INCLUDED));
if(this.BREAKEVEN_YEARS>0&&this.BREAKEVEN_YEARS<=this.LENGTH_OF_LOAN){b.replace("RESULT_MESSAGE_MAIN",this.MSG_RESULT1);
b.replace("RESULT_MESSAGE_ADVICE",this.MSG_DESC1)
}else{b.replace("RESULT_MESSAGE_MAIN",this.MSG_RESULT2);
b.replace("RESULT_MESSAGE_ADVICE",this.MSG_DESC2)
}b.dollars("PRICE_OF_HOME",this.PRICE_OF_HOME);
b.yesno("MAXIMUM_20_DOWN",this.MAXIMUM_20_DOWN);
b.dollars("DOWNPAYMENT_CLOSING_CASH",this.DOWNPAYMENT_CLOSING_CASH);
b.taxRate("PROPERTY_TAX_RATE",this.PROPERTY_TAX_RATE/100);
if(!this.GST_TAX_USE){b.replace("SALES_TAX_EXPLANATION_EXTRA","");
b.replace("SALES_TAX_EXPLANATION","")
}else{if(this.PROVINCE_SELECTED>=0){b.replace("SALES_TAX_EXPLANATION_EXTRA",KJE.Default.SALES_TAX_EXPLANATION_EXTRA[this.PROVINCE_SELECTED]);
b.replace("SALES_TAX_EXPLANATION",KJE.Default.SALES_TAX_EXPLANATION);
b.replace("PROVINCE_NAME",KJE.Default.PROVINCES[this.PROVINCE_SELECTED]);
b.replace("SALE_TAX_TYPE",KJE.Default.SALE_TAX_TYPE[this.PROVINCE_SELECTED]);
b.taxRate("SALE_TAX_RATE",KJE.Default.SALE_TAX_RATE[this.PROVINCE_SELECTED]);
b.dollars("GROSS_SALE_TAX",this.GROSS_SALE_TAX);
b.dollars("GST_TOTAL_REBATE",this.GST_TOTAL_REBATE);
b.dollars("HST_TOTAL_REBATE",this.HST_TOTAL_REBATE);
b.dollars("PURCHASE_PRICE",this.PRICE_OF_HOME)
}else{b.replace("SALES_TAX_EXPLANATION_EXTRA","");
b.replace("SALES_TAX_EXPLANATION",(KJE.Default.GST_SALES_TAX_EXPLAINATION?KJE.Default.GST_SALES_TAX_EXPLAINATION:""))
}}b.replace("SALE_TAX_TYPE","GST");
if(KJE.Default.GST_TAX_RATE){b.taxRate("GST_TAX_RATE",KJE.Default.GST_TAX_RATE)
}else{b.replace("GST_TAX_RATE","")
}b.taxRate("TAX_RATE",this.TAX_RATE/100);
b.percent("HOME_INSURANCE_RATE",this.HOME_INSURANCE_RATE/100,3);
b.loanRate("INTEREST_RATE",(this.CAMORTGAGE?this.ENTERED_INTEREST_RATE:this.INTEREST_RATE));
b.number("LENGTH_OF_LOAN",this.LENGTH_OF_LOAN);
b.percent("LOAN_ORIGINATION_RATE",this.LOAN_ORIGINATION_RATE/100,3);
b.number("POINTS_PAID_NBR",this.POINTS_PAID_NBR);
b.percent("PMI_RATE",this.PMI_RATE/100,3);
b.dollars("OTHER_CLOSING_COSTS",this.OTHER_CLOSING_COSTS);
b.dollars("HOME_INSURANCE_AMT",this.HOME_INSURANCE_AMT);
b.dollars("LOAN_ORIGINATION_AMT",this.LOAN_ORIGINATION_AMT);
b.dollars("PROPERTY_TAX_AMT",this.PROPERTY_TAX_AMT);
b.dollars("POINTS_PAID_AMT",this.POINTS_PAID_AMT);
b.dollars("TOTAL_CLOSING_COSTS",this.TOTAL_CLOSING_COSTS+this.TOTAL_CMHC);
b.dollars("TOTAL_FOR_DOWNPAYMENT",this.TOTAL_FOR_DOWNPAYMENT);
b.dollars("LOAN_AMOUNT",this.LOAN_AMOUNT);
b.dollars("DOWNPAYMENT_20",this.DOWNPAYMENT_20);
b.dollars("CLOSING_CLOSING_COSTS_20",this.CLOSING_CLOSING_COSTS_20);
b.dollars("HOME_INSURANCE_MONTHLY",this.HOME_INSURANCE_MONTHLY);
b.dollars("PROPERY_TAX_MONTHLY",this.PROPERY_TAX_MONTHLY);
b.dollars("MONTHLY_PI",this.MONTHLY_PI);
b.dollars("MONTHLY_PMI",this.MONTHLY_PMI);
b.dollars("TOTAL_CMHC",this.TOTAL_CMHC);
b.percent("RATE_CMHC",this.RATE_CMHC,2);
b.dollars("GST_TAX",this.GST_TAX);
b.dollars("MONTHLY_TOTAL_PMT",this.MONTHLY_TOTAL_PMT);
b.dollars("MONTHLY_TOTAL_PMT",this.MONTHLY_TOTAL_PMT);
b.dollars("MAINTENANCE",this.MAINTENANCE);
b.dollars("MONTHLY_RENT",this.MONTHLY_RENT);
b.inflationRate("INFLATION_RATE",this.INFLATION_RATE/100);
b.percent("INVESTMENT_RETURN",this.INVESTMENT_RETURN/100,2);
b.percent("HOME_COMMISION_RATE",this.HOME_COMMISION_RATE/100,2);
b.percent("HOME_APPRECIATION_RATE",this.HOME_APPRECIATION_RATE/100,2);
b.year("BREAKEVEN_YEARS",this.BREAKEVEN_YEARS);
b.dollars("TOTAL_ACTUAL_CMHC",this.TOTAL_ACTUAL_CMHC);
if(this.CAMORTGAGE){b.dollars("REQUIRED_DOWNPAYMENT",KJE.Default.DownpaymentForPurchasePrice(this.PRICE_OF_HOME))
}b.replace("**REPEATING GROUP**",this.sSchedule.getRepeat())
};
KJE.CalcName="Home Rent vs. Buy Calculator";
KJE.CalcType="mortgagerentvsbuy";
KJE.CalculatorTitleTemplate="KJE1";
KJE.parseInputs=function(b){b=KJE.replace("**TERM**",KJE.getMortgageTermDrop("TERM",30),b);
return b
};
KJE.initialize=function(){KJE.CalcControl=new KJE.MortgageRentvsBuyCalc();
KJE.GuiControl=new KJE.MortgageRentvsBuy(KJE.CalcControl)
};
KJE.MortgageRentvsBuy=function(s){var z=KJE;
var E=KJE.gLegend;
var v=KJE.inputs.items;
this.MSG_GRAPH12=KJE.parameters.get("MSG_GRAPH12","Home Equity vs. Investment");
this.MSG_DOWNPAYMENT=KJE.parameters.get("MSG_DOWNPAYMENT","Down payment");
var l=KJE.parameters.get("MSG_TOTAL_CLOSING_COSTS","Total closing costs: KJE1");
var y=KJE.parameters.get("MSG_MONTHLY_TOTAL","Monthly house payment: KJE1");
var D=KJE.parameters.get("MSG_MONTHLY_RENT_LBL","Monthly rent payment: KJE1");
this.MSG_GRAPH1=KJE.parameters.get("MSG_GRAPH1","10 Year Projected Monthly Payments");
this.MSG_GRAPH2=KJE.parameters.get("MSG_GRAPH2","Year");
this.MSG_GRAPH9=KJE.parameters.get("MSG_GRAPH9","Investment total");
this.MSG_GRAPH10=KJE.parameters.get("MSG_GRAPH10","Equity in home");
this.MSG_GRAPH11=KJE.parameters.get("MSG_GRAPH11","Net sales price");
KJE.MortgageAmtSlider("PRICE_OF_HOME","Purchase price");
KJE.MortgageTermDropBoxSlider("TERM","Term in years");
KJE.MortgageRateSlider("INTEREST_RATE","Interest rate");
KJE.DollarSlider("DOWNPAYMENT_CLOSING_CASH","Cash on hand",0,10000000);
KJE.PercentSlider("PROPERTY_TAX_RATE","Property tax rate",0,20,2);
KJE.PercentSlider("HOME_INSURANCE_RATE","Home insurance",0,10,2);
KJE.Label("LOAN_AMOUNT","Loan amount",null,null,"bold");
KJE.Label("MONTHLY_PI","Monthly payment (PI)",null,null,"bold");
KJE.Label("TOTAL_FOR_DOWNPAYMENT","Total down payment",null,null,"bold");
KJE.DollarSlider("MAINTENANCE","Maintenance/Condo Fees",-10000,10000);
KJE.PercentSlider("LOAN_ORIGINATION_RATE","Loan origination",0,5,3);
KJE.NumberSlider("POINTS_PAID_NBR","Points paid",-4,8,3,0.5);
if(s.USE_OTHER_FEES_AMOUNT){KJE.DollarSlider("OTHER_CLOSING_COSTS","Other closing costs",0,10000)
}else{KJE.PercentSlider("OTHER_CLOSING_COSTS","Other closing costs",0,5,2)
}KJE.PercentSlider("TAX_RATE","Income tax rate",0,50,2);
KJE.DollarSlider("MONTHLY_RENT","Monthly rent payment",10,10000);
KJE.DollarSlider("MONTHLY_PMI","Monthly PMI",0,1000,2);
if(s.PMI_CALCULATE&&!KJE.parameters.get("PMI_SHOW",false)){v.MONTHLY_PMI.hide()
}KJE.InflationRateSlider("INFLATION_RATE","Expected inflation",0,20,2);
KJE.InvestRateSlider("INVESTMENT_RETURN","After-tax investment return");
KJE.PercentSlider("HOME_APPRECIATION_RATE","Home appreciates at",-10,25,2,1);
KJE.InvestRateSlider("HOME_COMMISION_RATE","Future sales commission");
KJE.Checkbox("MAXIMUM20",KJE.getKJEReplaced(KJE.parameters.get("MSG_LABEL3","Limit down payment to KJE1"),z.percent(s.PMI_PERCENTAGE)));
KJE.Radioboxes("YEAR","Report amortization",true,"Annually","Monthly");
if(!KJE.parameters.get("SHOW_MAINTENANCE",false)){v.MAINTENANCE.setValue(0,true)
}var w=KJE.gNewGraph(KJE.gLINE,"GRAPH3",true,false,KJE.colorList[1],KJE.parameters.get("MSG_GRAPH10",this.MSG_GRAPH12));
w._legend._iOrientation=E.TOP_RIGHT;
w._axisX.setVisible(true);
w._titleYAxis.setText(KJE.sCurrency);
w._titleXAxis.setText(this.MSG_GRAPH2);
var u=KJE.gNewGraph(KJE.gCATEGORIES,"GRAPH2",true,true,KJE.colorList[1],KJE.parameters.get("MSG_GRAPH5","Monthly Payment Breakdown"));
u._legend._iOrientation=E.TOP_RIGHT;
u._axisX.setVisible(false);
u._titleYAxis.setText("");
u._titleXAxis.setText("");
var x=KJE.gNewGraph(KJE.gCOLUMN,"GRAPH1",true,true,KJE.colorList[1],this.MSG_GRAPH1);
x._iLimit=10;
x._legend._iOrientation=E.TOP_RIGHT;
x._titleYAxis.setText("");
x._titleXAxis.setText(this.MSG_GRAPH2);
var F=KJE.parameters.get("MSG_DROPPER_PAYMENT","Mortgage and Home Expenses:");
var A=function(){return F+"|"+KJE.subText(KJE.getKJEReplaced(y,z.dollars(s.MONTHLY_TOTAL_PMT,2)),"KJERightBold")
};
KJE.addDropper(new KJE.Dropper("INPUTS",true,A,A),KJE.colorList[0]);
var C=KJE.parameters.get("MSG_DROPPER_DOWNPAYMENT","Down Payment and Closing Costs:");
var t=function(){return C+"|"+KJE.subText(KJE.getKJEReplaced(l,z.dollars(s.TOTAL_CLOSING_COSTS)),"KJERightBold")
};
KJE.addDropper(new KJE.Dropper("DOWNPAYMENT",false,t,t),KJE.colorList[0]);
var r=KJE.parameters.get("MSG_DROPPER_RENT","Rent, Taxes and Inflation:");
var B=function(){return r+"|"+KJE.subText(KJE.getKJEReplaced(D,z.dollars(s.MONTHLY_RENT)),"KJERightBold")
};
KJE.addDropper(new KJE.Dropper("RENT",false,B,B),KJE.colorList[0])
};
KJE.MortgageRentvsBuy.prototype.setValues=function(c){var d=KJE.inputs.items;
c.MONTHLY_PMI=d.MONTHLY_PMI.getValue();
c.PRICE_OF_HOME=d.PRICE_OF_HOME.getValue();
c.DOWNPAYMENT_CLOSING_CASH=d.DOWNPAYMENT_CLOSING_CASH.getValue();
c.PROPERTY_TAX_RATE=d.PROPERTY_TAX_RATE.getValue();
c.HOME_INSURANCE_RATE=d.HOME_INSURANCE_RATE.getValue();
c.INTEREST_RATE=d.INTEREST_RATE.getValue();
c.LENGTH_OF_LOAN=d.TERM.getValue();
c.LOAN_ORIGINATION_RATE=d.LOAN_ORIGINATION_RATE.getValue();
c.LOAN_ORIGINATION_AMT=0;
c.POINTS_PAID_NBR=d.POINTS_PAID_NBR.getValue();
if(c.USE_OTHER_FEES_AMOUNT){c.OTHER_CLOSING_COSTS=d.OTHER_CLOSING_COSTS.getValue()
}else{c.OTHER_CLOSING_COSTS_RATE=d.OTHER_CLOSING_COSTS.getValue()
}c.TAX_RATE=d.TAX_RATE.getValue();
c.MONTHLY_RENT=d.MONTHLY_RENT.getValue();
c.INFLATION_RATE=d.INFLATION_RATE.getValue();
c.INVESTMENT_RETURN=d.INVESTMENT_RETURN.getValue();
c.HOME_APPRECIATION_RATE=d.HOME_APPRECIATION_RATE.getValue();
c.HOME_COMMISION_RATE=d.HOME_COMMISION_RATE.getValue();
c.ANNUAL_REPORT_PERIOD=d.YEAR.getValue();
c.MAXIMUM_20_DOWN=d.MAXIMUM20.getValue();
c.MAINTENANCE=d.MAINTENANCE.getValue()
};
KJE.MortgageRentvsBuy.prototype.refresh=function(j){var k=KJE;
var l=KJE.gLegend;
var h=KJE.inputs.items;
var n=KJE.gGraphs[0];
var m=KJE.gGraphs[1];
var i=KJE.gGraphs[2];
KJE.setTitleTemplate(j.RESULT_MESSAGE_MAIN);
i.removeAll();
i._iLimit=10;
i.setGraphCategories(j.cats);
i.add(new KJE.gGraphDataSeries(j.DS_NET_HOME_COST,j.MSG_GRAPH3,i.getColor(1),"",j.MSG_GRAPH3+" "+KJE.MSG_YEAR_LBL));
i.add(new KJE.gGraphDataSeries(j.DS_RENT,j.MSG_GRAPH4,i.getColor(2),"",j.MSG_GRAPH4+" "+KJE.MSG_YEAR_LBL));
i.paint();
m.removeAll();
m.setGraphCategories(j.cats2);
m.add(new KJE.gGraphDataSeries(j.DS_G2,"",m.getColor(1)));
m.paint();
h.LOAN_AMOUNT.setText(k.dollars(j.LOAN_AMOUNT),true);
h.MONTHLY_PI.setText(k.dollars(j.MONTHLY_PI,2),true);
h.TOTAL_FOR_DOWNPAYMENT.setText(k.dollars(j.TOTAL_FOR_DOWNPAYMENT),true);
n.removeAll();
n._iLimit=10;
n.setGraphCategories(j.cats);
n.add(new KJE.gGraphDataSeries(j.DS_INVESTMENT_TOTAL,this.MSG_GRAPH9,i.getColor(1)));
n.add(new KJE.gGraphDataSeries(j.DS_HOME_EQUITY,this.MSG_GRAPH10,i.getColor(2)));
n.add(new KJE.gGraphDataSeries(j.DS_EQUITY_AFTER_COSTS,this.MSG_GRAPH11,i.getColor(3)));
n.paint();
h.MONTHLY_PMI.setValue(k.round(j.MONTHLY_PMI,2),true);
if(j.MONTH_PMI_EXEMPT){h.MONTHLY_PMI.disable()
}else{h.MONTHLY_PMI.enable()
}};
KJE.InputScreenText=" <div id=KJE-D-INPUTS><div id=KJE-P-INPUTS>Input information:</div></div> <div id=KJE-E-INPUTS > <div id='KJE-C-PRICE_OF_HOME'><input id='KJE-PRICE_OF_HOME' /></div> <div id='KJE-C-INTEREST_RATE'><input id='KJE-INTEREST_RATE' /></div> <div id='KJE-C-TERM'>**TERM**</div> <div id='KJE-C-MONTHLY_PMI'><input id='KJE-MONTHLY_PMI' /></div> <div id='KJE-C-LOAN_AMOUNT'><div id='KJE-LOAN_AMOUNT'></div></div> <div id='KJE-C-MONTHLY_PI'><div id='KJE-MONTHLY_PI'></div></div> <div class=KJEDropperSpacer></div> <div id='KJE-C-PROPERTY_TAX_RATE'><input id='KJE-PROPERTY_TAX_RATE' /></div> <div id='KJE-C-HOME_INSURANCE_RATE'><input id='KJE-HOME_INSURANCE_RATE' /></div> <div id='KJE-C-MAINTENANCE'><input id='KJE-MAINTENANCE' /></div> <div id='KJE-C-MONTHLY_TOTAL_PMT'><div id='KJE-MONTHLY_TOTAL_PMT'></div></div> <div id=\"KJE-C-YEAR\"><fieldset id='KJE-FS-YEAR'><input id=\"KJE-YEAR1\" type=radio name=YEAR /><input id=\"KJE-YEAR2\" type=radio name=YEAR /></fieldset></div> <div class=KJEDropperSpacer></div> </div> <div id=KJE-D-DOWNPAYMENT><div id=KJE-P-DOWNPAYMENT>Downpayment and closing costs</div></div> <div id=KJE-E-DOWNPAYMENT > <div id='KJE-C-DOWNPAYMENT_CLOSING_CASH'><input id='KJE-DOWNPAYMENT_CLOSING_CASH' /></div> <div id='KJE-C-LOAN_ORIGINATION_RATE'><input id='KJE-LOAN_ORIGINATION_RATE' /></div> <div id='KJE-C-POINTS_PAID_NBR'><input id='KJE-POINTS_PAID_NBR' /></div> <div id='KJE-C-OTHER_CLOSING_COSTS'><input id='KJE-OTHER_CLOSING_COSTS' /></div> <div id='KJE-C-TOTAL_FOR_DOWNPAYMENT'><div id='KJE-TOTAL_FOR_DOWNPAYMENT'></div></div> <div id='KJE-C-MAXIMUM20'><input id='KJE-MAXIMUM20' type=checkbox /></div> <div class=KJEDropperSpacer></div> </div> <div id=KJE-D-RENT><div id=KJE-P-RENT>Rent</div></div> <div id=KJE-E-RENT > <div id='KJE-C-MONTHLY_RENT'><input id='KJE-MONTHLY_RENT' /></div> <div id='KJE-C-INVESTMENT_RETURN'><input id='KJE-INVESTMENT_RETURN' /></div> <div id='KJE-C-TAX_RATE'><input id='KJE-TAX_RATE' /></div> <div id='KJE-C-INFLATION_RATE'><input id='KJE-INFLATION_RATE' /></div> <div id='KJE-C-HOME_APPRECIATION_RATE'><input id='KJE-HOME_APPRECIATION_RATE' /></div> <div id='KJE-C-HOME_COMMISION_RATE'><input id='KJE-HOME_COMMISION_RATE' /></div> <div class=KJEDropperSpacer></div> </div> **GRAPH3** **GRAPH2** **GRAPH1** ";
KJE.DefinitionText=" <div id='KJE-D-PRICE_OF_HOME' ><dt>Price of home</dt><dd>Purchase price of the home you wish to buy.</dd></div> <div id='KJE-D-INTEREST_RATE' ><dt>Interest rate</dt><dd>The current interest rate you expect to receive on your mortgage. Please note that the interest rate is different from the Annual Percentage Rate (APR), which includes other expenses such as mortgage insurance, and the origination fee and or point(s), which were paid when the mortgage was first originated. The APR is normally higher than the simple interest rate.</dd></div> <div id='KJE-D-TERM' ><dt>Term in years</dt><dd>The number of years over which you will repay this loan.</dd></div> <div id='KJE-D-MONTHLY_PMI'><dt>Monthly PMI</dt><dd>Monthly cost of Private Mortgage Insurance (PMI). For loans secured with less than 20% down, PMI is estimated at 0.5% of your loan balance each year.</dd></div> <div id='KJE-D-LOAN_AMOUNT'><dt>Loan amount</dt><dd>Calculated amount of the loan for this home purchase.</dd></div> <div id='KJE-D-MONTHLY_PI' ><dt>Monthly payment (PI)</dt><dd>Monthly principal and interest (PI) payment.</dd></div> <div id='KJE-D-PROPERTY_TAX_RATE' ><dt>Property tax rate</dt><dd>Your property tax rate. 1% for a $100,000 home equals $1,000 per year in property taxes.</dd></div> <div id='KJE-D-HOME_INSURANCE_RATE' ><dt>Home insurance rate</dt><dd>Your homeowner's insurance rate. 0.5% for a $100,000 home equals $500 per year for homeowner's insurance.</dd></div> <div id='KJE-D-MAINTENANCE' ><dt>Association and maintenance fees</dt><dd>Any association fees you are required to pay per month with the ownership of this home. Also include any other maintenance costs you expect to incur with the ownership of this home that you are not paying while you continue to rent.</dd></div> <div id='KJE-D-DOWNPAYMENT_CLOSING_CASH' ><dt>Cash on hand</dt><dd>Cash you have for the down payment and closing costs.</dd></div> <div id='KJE-D-LOAN_ORIGINATION_RATE' ><dt>Loan origination rate</dt><dd>The percentage the lending institution charges for its origination fee. 1% for a $100,000 home equals $1,000.</dd></div> <div id='KJE-D-POINTS_PAID_NBR' ><dt>Points paid</dt><dd>The total number of points paid to reduce the interest rate of your mortgage. Each point costs 1% of your mortgage balance.</dd></div> <div id='KJE-D-OTHER_CLOSING_COSTS' ><dt>Other closing costs</dt><dd>Estimate of all other closing costs for this loan. This should include filing fees, appraiser fees and any other miscellaneous fees paid.</dd></div> <div id='KJE-D-TOTAL_FOR_DOWNPAYMENT' ><dt>Total for down payment</dt><dd>Total funds remaining for down payment.</dd></div> <div id='KJE-D-MONTHLY_RENT' ><dt>Monthly rent payment</dt><dd>Amount you currently pay for rent per month.</dd></div> <div id='KJE-D-INVESTMENT_RETURN' ><dt>After-tax investment return</dt><dd>The rate of return, after taxes, you could receive if you invested your closing costs and down payment instead of purchasing a home.<p>**ROR_DEFINITION**</dd></div> <div id='KJE-D-TAX_RATE' ><dt>Income tax rate</dt><dd>Your current marginal income tax rate. **TAXTABLE_CURRENT_DEFINITION**</dd></div> <div id='KJE-D-INFLATION_RATE' ><dt>Expected inflation rate</dt><dd>**INFLATION_DEFINITION** Inflation rate is used to adjust amounts subject to annual increases. These amounts include rent, insurance and tax payments.</dd></div> <div id='KJE-D-HOME_APPRECIATION_RATE' ><dt>Home value appreciation</dt><dd>Amount you expect your home value to appreciate annually.</dd></div> <div id='KJE-D-HOME_COMMISION_RATE' ><dt>Future sales commission</dt><dd>The percent of your home's selling price you expect to pay to a broker or real estate agent when you sell your home.</dd></div> <div id='KJE-D-MONTHLY_TOTAL_PMT' ><dt>House payment</dt><dd>Total of principal, interest, taxes and insurance (PITI) and maintenance paid per month for your home. Insurance includes Principal Mortgage Insurance (PMI) and homeowner's insurance.</dd></div> ";
KJE.ReportText=' <!--HEADING "Rent vs. Buy" HEADING--> <h2 class=\'KJEReportHeader KJEFontHeading\'>RESULT_MESSAGE_MAIN</h2> The tool calculatesd your break even point by examining how long it would take to create enough equity in your home to exceed the value of investing your cash on hand as a renter. If your rent payment is less than your net house payment, the tool adds that monthly savings to your investment. If your house payment is less than your rent payment, the tool subtracts that amount from your investment. <p>(You may notice that on the schedule at the bottom of this report the investment value can be reported as negative. This happens if your house payment is significantly lower than your rent payment. It illustrates that if you continue to rent the extra cost of renting would, in effect, use up your cash on hand.) <p>When calculating equity, it is assumed your home will appreciate at HOME_APPRECIATION_RATE per year, and you have an income tax rate of TAX_RATE. The tool also subtracts a HOME_COMMISION_RATE sales commission paid to brokers or real estate agents when you sell your home. <p>RESULT_MESSAGE_ADVICE **GRAPH** <h2 class=\'KJEReportHeader KJEFontHeading\'>Estimated Loan Information</h2>Your total monthly payment was estimated at MONTHLY_TOTAL_PMT. Your down payment was estimated at TOTAL_FOR_DOWNPAYMENT and you had a home price of PRICE_OF_HOME. This is for a LENGTH_OF_LOAN-year mortgage with an interest rate of INTEREST_RATE in the amount of LOAN_AMOUNT. Your total closing costs for this loan are estimated at TOTAL_CLOSING_COSTS. <p> Your current monthly rent is MONTHLY_RENT. The expected inflation rate of INFLATION_RATE annually was used to estimate future rent and property taxes. The rate of return used for investments was INVESTMENT_RETURN per year after taxes. **GRAPH** <div class=KJEReportTableDiv><table class=KJEReportTable><caption class=\'KJEHeaderRow KJEHeading\'>Your MONTHLY_TOTAL_PMT monthly payment consists of:</caption> <tbody class=\'KJEReportTBody\'> <tr class=KJEOddRow><th class="KJELabel KJECellBorder KJECell60" scope=\'row\'>Principal and interest</th><td class="KJECell KJECell40">MONTHLY_PI</td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>Monthly PMI</th><td class="KJECell">MONTHLY_PMI</td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>Taxes</th><td class="KJECell">PROPERY_TAX_MONTHLY</td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>Insurance</th><td class="KJECell">HOME_INSURANCE_MONTHLY</td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>Association dues & maintenance</th><td class="KJECell">MAINTENANCE</td></tr> </tbody> </table> </div> <p> <div class=KJEReportTableDiv><table class=KJEReportTable><caption class=\'KJEHeaderRow KJEHeading\'>Closing costs estimate of TOTAL_CLOSING_COSTS consists of:</caption> <tbody class=\'KJEReportTBody\'> <tr class=KJEOddRow><th class="KJELabel KJECellBorder KJECell60" scope=\'row\'>Amount of points paid</th><td class="KJECell KJECell40">POINTS_PAID_AMT</td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>Loan origination fee</th><td class="KJECell">LOAN_ORIGINATION_AMT</td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>Other closing costs</th><td class="KJECell">OTHER_CLOSING_COSTS</td></tr> </tbody> </table> </div> <p>To avoid PMI payments, a DOWNPAYMENT_20 down payment is required. This equals 20% of your home\'s purchase price. The total amount of cash required for a 20% down payment plus closing costs would be CLOSING_CLOSING_COSTS_20. <p>**GRAPH** <h2 class=\'KJEScheduleHeader KJEFontHeading\'>Analysis of Future Payments</h2> **REPEATING GROUP** ';
KJE.parameters.set("DOWNPAYMENT_CLOSING_CASH",20000);
KJE.parameters.set("HOME_APPRECIATION_RATE",3);
KJE.parameters.set("HOME_COMMISION_RATE",6);
KJE.parameters.set("HOME_INSURANCE_RATE",0.5);
KJE.parameters.set("INFLATION_RATE",KJE.Default.InflationRate);
KJE.parameters.set("INTEREST_RATE",KJE.Default.RateFix30);
KJE.parameters.set("INVESTMENT_RETURN",KJE.Default.RORMarket);
KJE.parameters.set("LENGTH_OF_LOAN",30);
KJE.parameters.set("LOAN_ORIGINATION_RATE",1);
KJE.parameters.set("MAINTENANCE",0);
KJE.parameters.set("MONTHLY_RENT",750);
KJE.parameters.set("MSG_MAINTENANCE","Assoc. & maintenance fees");
KJE.parameters.set("MSG_MONTH","per month");
KJE.parameters.set("OTHER_CLOSING_COSTS",800);
KJE.parameters.set("PMI_RATE",0.5);
KJE.parameters.set("PMI_CALCULATE",true);
KJE.parameters.set("POINTS_PAID_NBR",1);
KJE.parameters.set("PRICE_OF_HOME",KJE.Default.HomePrice);
KJE.parameters.set("PROPERTY_TAX_RATE",1);
KJE.parameters.set("SHOW_MAINTENANCE",true);
KJE.parameters.set("TAX_RATE",KJE.Default.TaxRate);
KJE.parameters.set("PMI_SHOW",true);